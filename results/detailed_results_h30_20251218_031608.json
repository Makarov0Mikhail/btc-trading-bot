{
  "horizon": 30,
  "timestamp": "20251218_031608",
  "metrics": {
    "long_accuracy": 0.8401055408970977,
    "short_accuracy": 0.8552770448548813,
    "long_precision": 0.391304347826087,
    "short_precision": 0.5,
    "long_recall": 0.007456503728251864,
    "short_recall": 0.0009115770282588879,
    "long_f1": 0.014634146341463415,
    "short_f1": 0.0018198362147406734
  },
  "financial": {
    "pnl": -0.8341327382756947,
    "sharpe": 2.8876988997493513,
    "max_drawdown": 67.08210508901655
  },
  "feature_analysis": {
    "long_model": {
      "top_10_features": [
        {
          "feature": "atr_pct",
          "importance": 0.2287684219630094,
          "mutual_info": 0.006464316127861913,
          "abs_correlation": 0.02546590289724631
        },
        {
          "feature": "macd_hist",
          "importance": 0.12312183058897051,
          "mutual_info": 0.002709821434887738,
          "abs_correlation": 0.016699911903060548
        },
        {
          "feature": "log_return",
          "importance": 0.10006893323040943,
          "mutual_info": 0.0030599678934644103,
          "abs_correlation": 0.012052925604562321
        },
        {
          "feature": "rsi_14",
          "importance": 0.08484388970157912,
          "mutual_info": 0.0,
          "abs_correlation": 0.002006678187986608
        },
        {
          "feature": "log_return_lag_1",
          "importance": 0.08350702422310911,
          "mutual_info": 0.002596711582329103,
          "abs_correlation": 0.00507045467903305
        },
        {
          "feature": "log_return_lag_2",
          "importance": 0.06611164306201553,
          "mutual_info": 0.0017902460888223892,
          "abs_correlation": 0.046166215183072824
        },
        {
          "feature": "prev_candle_body",
          "importance": 0.06576176431225773,
          "mutual_info": 0.0032513390476409665,
          "abs_correlation": 0.011876395636251957
        },
        {
          "feature": "volume_change_lag_1",
          "importance": 0.06035630416333432,
          "mutual_info": 0.013702306776049777,
          "abs_correlation": 0.15518042521626296
        },
        {
          "feature": "volume_change",
          "importance": 0.05887898545396232,
          "mutual_info": 0.0038785498129729756,
          "abs_correlation": 0.0249868868414742
        },
        {
          "feature": "hour_sin",
          "importance": 0.05778028480850024,
          "mutual_info": 0.008591270012157315,
          "abs_correlation": 0.03313540844181375
        }
      ],
      "feature_importance_stats": {
        "max_importance": 0.2287684219630094,
        "min_importance": 0.019761393985079156,
        "mean_importance": 0.08333333333333333
      }
    },
    "short_model": {
      "top_10_features": [
        {
          "feature": "atr_pct",
          "importance": 0.1974132684948825,
          "mutual_info": 0.0,
          "abs_correlation": 0.005826563411245229
        },
        {
          "feature": "macd_hist",
          "importance": 0.11491369734561811,
          "mutual_info": 0.0011613230427764965,
          "abs_correlation": 0.000693159807292163
        },
        {
          "feature": "rsi_14",
          "importance": 0.0980945411231994,
          "mutual_info": 0.0,
          "abs_correlation": 0.003011295055499559
        },
        {
          "feature": "hour_sin",
          "importance": 0.09089177584440573,
          "mutual_info": 0.002917734495973212,
          "abs_correlation": 0.01976934797707861
        },
        {
          "feature": "hour_cos",
          "importance": 0.07716338807192472,
          "mutual_info": 0.0037533722297409255,
          "abs_correlation": 0.03444874485644929
        },
        {
          "feature": "log_return",
          "importance": 0.07451848430659962,
          "mutual_info": 0.0005910278080676346,
          "abs_correlation": 0.032943861048858145
        },
        {
          "feature": "log_return_lag_1",
          "importance": 0.07313055724344718,
          "mutual_info": 0.0,
          "abs_correlation": 0.0030628095485236836
        },
        {
          "feature": "volume_change",
          "importance": 0.06245017893088206,
          "mutual_info": 0.00990610322593577,
          "abs_correlation": 0.08898147375484829
        },
        {
          "feature": "volume_change_lag_1",
          "importance": 0.06133500276358351,
          "mutual_info": 0.0,
          "abs_correlation": 0.03615532656253421
        },
        {
          "feature": "prev_candle_body",
          "importance": 0.06110444737403676,
          "mutual_info": 0.0009281645681553652,
          "abs_correlation": 0.021385247767694487
        }
      ],
      "feature_importance_stats": {
        "max_importance": 0.1974132684948825,
        "min_importance": 0.031383129107399654,
        "mean_importance": 0.0833333333333333
      }
    }
  },
  "trades_detailed": {
    "summary": {
      "total_trades": 16,
      "winning_trades": 8,
      "losing_trades": 8,
      "win_rate": 0.5,
      "avg_win_pct": 0.006231497286762949,
      "avg_loss_pct": -0.005295498167276702,
      "profit_factor": 0.690586274025416,
      "largest_win_pct": 0.01088669193609082,
      "largest_loss_pct": -0.008508051389284566,
      "avg_holding_minutes": 18.3125
    },
    "by_direction": {
      "long": {
        "total_trades": 14,
        "winning_trades": 7,
        "losing_trades": 7,
        "win_rate": 0.5,
        "avg_win_pct": 0.006262690377862741,
        "avg_loss_pct": -0.005316473495667472,
        "profit_factor": 0.6936114554515523,
        "largest_win_pct": 0.01088669193609082,
        "largest_loss_pct": -0.008508051389284566,
        "avg_holding_minutes": 18.5
      },
      "short": {
        "total_trades": 2,
        "winning_trades": 1,
        "losing_trades": 1,
        "win_rate": 0.5,
        "avg_win_pct": 0.006013145649064411,
        "avg_loss_pct": -0.005148670868541316,
        "profit_factor": 0.6690048068738503,
        "largest_win_pct": 0.006013145649064411,
        "largest_loss_pct": -0.005148670868541316,
        "avg_holding_minutes": 17.0
      },
      "total_trades": 16,
      "long_count": 14,
      "short_count": 2
    },
    "holding_time_stats": {
      "mean": 18.3125,
      "median": 19.0,
      "min": 1.0,
      "max": 30.0,
      "std": 10.498325759377064
    },
    "exit_reasons": {
      "HORIZON_EXIT": 5,
      "STOP_LOSS": 8,
      "TAKE_PROFIT": 3
    },
    "hourly_performance": {
      "6": {
        "avg_pnl": -0.8990608211422098,
        "win_rate": 0.5,
        "total_trades": 2,
        "total_pnl": -1.7981216422844195
      },
      "9": {
        "avg_pnl": -14.784295835592928,
        "win_rate": 0.5,
        "total_trades": 2,
        "total_pnl": -29.568591671185857
      },
      "17": {
        "avg_pnl": 13.954520031266718,
        "win_rate": 0.5,
        "total_trades": 2,
        "total_pnl": 27.909040062533435
      },
      "4": {
        "avg_pnl": -41.28108852805684,
        "win_rate": 0.0,
        "total_trades": 2,
        "total_pnl": -82.56217705611368
      },
      "1": {
        "avg_pnl": -34.58612336780587,
        "win_rate": 0.0,
        "total_trades": 2,
        "total_pnl": -69.17224673561174
      },
      "7": {
        "avg_pnl": 30.425160304288664,
        "win_rate": 1.0,
        "total_trades": 1,
        "total_pnl": 30.425160304288664
      },
      "0": {
        "avg_pnl": -34.349512292803375,
        "win_rate": 0.0,
        "total_trades": 1,
        "total_pnl": -34.349512292803375
      },
      "15": {
        "avg_pnl": 44.881837451515885,
        "win_rate": 1.0,
        "total_trades": 1,
        "total_pnl": 44.881837451515885
      },
      "14": {
        "avg_pnl": 46.3546175824542,
        "win_rate": 1.0,
        "total_trades": 1,
        "total_pnl": 46.3546175824542
      },
      "16": {
        "avg_pnl": -37.7062456662255,
        "win_rate": 0.0,
        "total_trades": 1,
        "total_pnl": -37.7062456662255
      },
      "20": {
        "avg_pnl": 22.172965835860396,
        "win_rate": 1.0,
        "total_trades": 1,
        "total_pnl": 22.172965835860396
      }
    },
    "confidence_quartiles": {
      "Q1": {
        "avg_pnl": -15.052080661354182,
        "win_rate": 0.25,
        "avg_confidence": -0.0038388034526932735,
        "trades": 4
      },
      "Q2": {
        "avg_pnl": -17.884204713961132,
        "win_rate": 0.25,
        "avg_confidence": 0.1592745030170841,
        "trades": 4
      },
      "Q3": {
        "avg_pnl": 13.34914183914722,
        "win_rate": 0.75,
        "avg_confidence": 0.1739507820815481,
        "trades": 4
      },
      "Q4": {
        "avg_pnl": -1.2661749207248993,
        "win_rate": 0.5,
        "avg_confidence": 0.24637563150374947,
        "trades": 4
      }
    }
  },
  "threshold_sensitivity": [
    {
      "threshold": 0.3,
      "total_signals": 1137,
      "long_signals": 860,
      "short_signals": 277,
      "signal_ratio": 0.15,
      "accuracy": 0.5951187335092348
    },
    {
      "threshold": 0.35,
      "total_signals": 1811,
      "long_signals": 967,
      "short_signals": 844,
      "signal_ratio": 0.23891820580474935,
      "accuracy": 0.566358839050132
    },
    {
      "threshold": 0.39999999999999997,
      "total_signals": 1985,
      "long_signals": 588,
      "short_signals": 1397,
      "signal_ratio": 0.26187335092348285,
      "accuracy": 0.5779683377308708
    },
    {
      "threshold": 0.44999999999999996,
      "total_signals": 1772,
      "long_signals": 427,
      "short_signals": 1345,
      "signal_ratio": 0.23377308707124012,
      "accuracy": 0.6060686015831135
    },
    {
      "threshold": 0.49999999999999994,
      "total_signals": 1119,
      "long_signals": 349,
      "short_signals": 770,
      "signal_ratio": 0.14762532981530344,
      "accuracy": 0.6658311345646438
    },
    {
      "threshold": 0.5499999999999999,
      "total_signals": 582,
      "long_signals": 286,
      "short_signals": 296,
      "signal_ratio": 0.07678100263852243,
      "accuracy": 0.6905013192612137
    },
    {
      "threshold": 0.5999999999999999,
      "total_signals": 328,
      "long_signals": 194,
      "short_signals": 134,
      "signal_ratio": 0.04327176781002638,
      "accuracy": 0.7060686015831135
    },
    {
      "threshold": 0.6499999999999999,
      "total_signals": 100,
      "long_signals": 61,
      "short_signals": 39,
      "signal_ratio": 0.013192612137203167,
      "accuracy": 0.6994722955145118
    },
    {
      "threshold": 0.7,
      "total_signals": 8,
      "long_signals": 6,
      "short_signals": 2,
      "signal_ratio": 0.0010554089709762533,
      "accuracy": 0.6965699208443272
    },
    {
      "threshold": 0.7499999999999999,
      "total_signals": 0,
      "long_signals": 0,
      "short_signals": 0,
      "signal_ratio": 0.0,
      "accuracy": 0.696042216358839
    },
    {
      "threshold": 0.7999999999999998,
      "total_signals": 0,
      "long_signals": 0,
      "short_signals": 0,
      "signal_ratio": 0.0,
      "accuracy": 0.696042216358839
    }
  ],
  "best_params": {
    "n_estimators": 121,
    "max_depth": 9,
    "min_samples_split": 18,
    "min_samples_leaf": 19,
    "thr_long": 0.6179239163618224,
    "thr_short": 0.6570568363858779,
    "min_confidence": 0.14093863585307048,
    "stop_mult": 0.947288852429855,
    "take_mult": 1.897242544078796,
    "trailing_mult": 0.7988602700997971,
    "breakeven_mult": 0.5673542350662568
  },
  "config": {
    "session_config": {
      "prebuffer_min": 45,
      "session_len_min": 45,
      "volatility_window": 10,
      "zscore_window_days": 3,
      "volatility_threshold": 1.8,
      "cooldown_min": 30
    },
    "sim_config": {
      "commission": 0.001,
      "spread_pct": 0.0002,
      "risk_per_trade": 0.2,
      "max_position_pct": 0.5,
      "default_stop_pct": 0.005,
      "default_take_pct": 0.015,
      "max_hold_minutes": 30,
      "min_hold_bars": 3
    }
  }
}