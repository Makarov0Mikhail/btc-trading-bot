{
  "horizon": 30,
  "timestamp": "20251218_015827",
  "metrics": {
    "long_accuracy": 0.8312664907651715,
    "short_accuracy": 0.846042216358839,
    "long_precision": 0.29069767441860467,
    "short_precision": 0.28125,
    "long_recall": 0.041425020712510356,
    "short_recall": 0.04102096627164995,
    "long_f1": 0.0725163161711385,
    "short_f1": 0.07159904534606205
  },
  "financial": {
    "pnl": -8.404448767068684,
    "sharpe": 30.959608622593525,
    "max_drawdown": 69.88908243369181
  },
  "feature_analysis": {
    "long_model": {
      "top_10_features": [
        {
          "feature": "atr_pct",
          "importance": 0.2287684219630094,
          "mutual_info": 0.006464316127861913,
          "abs_correlation": 0.02546590289724631
        },
        {
          "feature": "macd_hist",
          "importance": 0.12312183058897051,
          "mutual_info": 0.002709821434887738,
          "abs_correlation": 0.016699911903060548
        },
        {
          "feature": "log_return",
          "importance": 0.10006893323040943,
          "mutual_info": 0.0030599678934644103,
          "abs_correlation": 0.012052925604562321
        },
        {
          "feature": "rsi_14",
          "importance": 0.08484388970157912,
          "mutual_info": 0.0,
          "abs_correlation": 0.002006678187986608
        },
        {
          "feature": "log_return_lag_1",
          "importance": 0.08350702422310911,
          "mutual_info": 0.002596711582329103,
          "abs_correlation": 0.00507045467903305
        },
        {
          "feature": "log_return_lag_2",
          "importance": 0.06611164306201553,
          "mutual_info": 0.0017902460888223892,
          "abs_correlation": 0.046166215183072824
        },
        {
          "feature": "prev_candle_body",
          "importance": 0.06576176431225773,
          "mutual_info": 0.0032513390476409665,
          "abs_correlation": 0.011876395636251957
        },
        {
          "feature": "volume_change_lag_1",
          "importance": 0.06035630416333432,
          "mutual_info": 0.013702306776049777,
          "abs_correlation": 0.15518042521626296
        },
        {
          "feature": "volume_change",
          "importance": 0.05887898545396232,
          "mutual_info": 0.0038785498129729756,
          "abs_correlation": 0.0249868868414742
        },
        {
          "feature": "hour_sin",
          "importance": 0.05778028480850024,
          "mutual_info": 0.008591270012157315,
          "abs_correlation": 0.03313540844181375
        }
      ],
      "feature_importance_stats": {
        "max_importance": 0.2287684219630094,
        "min_importance": 0.019761393985079156,
        "mean_importance": 0.08333333333333333
      }
    },
    "short_model": {
      "top_10_features": [
        {
          "feature": "atr_pct",
          "importance": 0.1974132684948825,
          "mutual_info": 0.0,
          "abs_correlation": 0.005826563411245229
        },
        {
          "feature": "macd_hist",
          "importance": 0.11491369734561811,
          "mutual_info": 0.0011613230427764965,
          "abs_correlation": 0.000693159807292163
        },
        {
          "feature": "rsi_14",
          "importance": 0.0980945411231994,
          "mutual_info": 0.0,
          "abs_correlation": 0.003011295055499559
        },
        {
          "feature": "hour_sin",
          "importance": 0.09089177584440573,
          "mutual_info": 0.002917734495973212,
          "abs_correlation": 0.01976934797707861
        },
        {
          "feature": "hour_cos",
          "importance": 0.07716338807192472,
          "mutual_info": 0.0037533722297409255,
          "abs_correlation": 0.03444874485644929
        },
        {
          "feature": "log_return",
          "importance": 0.07451848430659962,
          "mutual_info": 0.0005910278080676346,
          "abs_correlation": 0.032943861048858145
        },
        {
          "feature": "log_return_lag_1",
          "importance": 0.07313055724344718,
          "mutual_info": 0.0,
          "abs_correlation": 0.0030628095485236836
        },
        {
          "feature": "volume_change",
          "importance": 0.06245017893088206,
          "mutual_info": 0.00990610322593577,
          "abs_correlation": 0.08898147375484829
        },
        {
          "feature": "volume_change_lag_1",
          "importance": 0.06133500276358351,
          "mutual_info": 0.0,
          "abs_correlation": 0.03615532656253421
        },
        {
          "feature": "prev_candle_body",
          "importance": 0.06110444737403676,
          "mutual_info": 0.0009281645681553652,
          "abs_correlation": 0.021385247767694487
        }
      ],
      "feature_importance_stats": {
        "max_importance": 0.1974132684948825,
        "min_importance": 0.031383129107399654,
        "mean_importance": 0.0833333333333333
      }
    }
  },
  "trades_detailed": {
    "summary": {
      "total_trades": 143,
      "winning_trades": 71,
      "losing_trades": 72,
      "win_rate": 0.4965034965034965,
      "avg_win_pct": 0.0073736311450655085,
      "avg_loss_pct": -0.006611780762472739,
      "profit_factor": 0.6993515743822802,
      "largest_win_pct": 0.03194375870023003,
      "largest_loss_pct": -0.026896273651907054,
      "avg_holding_minutes": 122.98601398601399
    },
    "by_direction": {
      "long": {
        "total_trades": 74,
        "winning_trades": 33,
        "losing_trades": 41,
        "win_rate": 0.44594594594594594,
        "avg_win_pct": 0.007256130788991539,
        "avg_loss_pct": -0.006474057011564893,
        "profit_factor": 0.5791760693500579,
        "largest_win_pct": 0.019004457043575895,
        "largest_loss_pct": -0.02350203429588804,
        "avg_holding_minutes": 119.97297297297297
      },
      "short": {
        "total_trades": 69,
        "winning_trades": 38,
        "losing_trades": 31,
        "win_rate": 0.5507246376811594,
        "avg_win_pct": 0.00747567092797185,
        "avg_loss_pct": -0.00679393152980247,
        "profit_factor": 0.8518568032090402,
        "largest_win_pct": 0.03194375870023003,
        "largest_loss_pct": -0.026896273651907054,
        "avg_holding_minutes": 126.21739130434783
      },
      "total_trades": 143,
      "long_count": 74,
      "short_count": 69
    },
    "holding_time_stats": {
      "mean": 122.98601398601399,
      "median": 82.0,
      "min": 2.0,
      "max": 1554.0,
      "std": 192.94402920481892
    },
    "exit_reasons": {
      "MAX_HOLD": 48,
      "TAKE_PROFIT": 36,
      "STOP_LOSS": 59
    },
    "hourly_performance": {
      "6": {
        "avg_pnl": -15.90562177320441,
        "win_rate": 0.5,
        "total_trades": 4,
        "total_pnl": -63.62248709281764
      },
      "13": {
        "avg_pnl": -2.8184958875855335,
        "win_rate": 0.5333333333333333,
        "total_trades": 15,
        "total_pnl": -42.277438313783
      },
      "0": {
        "avg_pnl": -23.7423237470839,
        "win_rate": 0.2727272727272727,
        "total_trades": 11,
        "total_pnl": -261.1655612179229
      },
      "16": {
        "avg_pnl": -5.093432096901404,
        "win_rate": 0.3333333333333333,
        "total_trades": 12,
        "total_pnl": -61.12118516281685
      },
      "2": {
        "avg_pnl": -26.329829624316297,
        "win_rate": 0.25,
        "total_trades": 4,
        "total_pnl": -105.31931849726519
      },
      "4": {
        "avg_pnl": -13.357259355866741,
        "win_rate": 0.3333333333333333,
        "total_trades": 9,
        "total_pnl": -120.21533420280068
      },
      "9": {
        "avg_pnl": 2.7444388870500775,
        "win_rate": 0.4,
        "total_trades": 5,
        "total_pnl": 13.722194435250387
      },
      "14": {
        "avg_pnl": 9.332005870951777,
        "win_rate": 0.6875,
        "total_trades": 16,
        "total_pnl": 149.31209393522843
      },
      "15": {
        "avg_pnl": -24.093955164948657,
        "win_rate": 0.3333333333333333,
        "total_trades": 15,
        "total_pnl": -361.4093274742298
      },
      "21": {
        "avg_pnl": 17.477951987078544,
        "win_rate": 1.0,
        "total_trades": 3,
        "total_pnl": 52.433855961235636
      },
      "11": {
        "avg_pnl": -6.600811354163714,
        "win_rate": 0.0,
        "total_trades": 2,
        "total_pnl": -13.201622708327427
      },
      "19": {
        "avg_pnl": -5.124527700282078,
        "win_rate": 0.375,
        "total_trades": 8,
        "total_pnl": -40.996221602256625
      },
      "20": {
        "avg_pnl": -3.1371771528617614,
        "win_rate": 0.5,
        "total_trades": 8,
        "total_pnl": -25.09741722289409
      },
      "8": {
        "avg_pnl": -16.091317785369725,
        "win_rate": 0.0,
        "total_trades": 2,
        "total_pnl": -32.18263557073945
      },
      "3": {
        "avg_pnl": -5.500641796203209,
        "win_rate": 0.5,
        "total_trades": 4,
        "total_pnl": -22.002567184812836
      },
      "17": {
        "avg_pnl": 3.5834183856974575,
        "win_rate": 0.6,
        "total_trades": 5,
        "total_pnl": 17.917091928487288
      },
      "18": {
        "avg_pnl": -9.065463413791619,
        "win_rate": 0.5,
        "total_trades": 8,
        "total_pnl": -72.52370731033295
      },
      "5": {
        "avg_pnl": 24.22349970715609,
        "win_rate": 0.6666666666666666,
        "total_trades": 3,
        "total_pnl": 72.67049912146827
      },
      "22": {
        "avg_pnl": 28.57129760277639,
        "win_rate": 1.0,
        "total_trades": 1,
        "total_pnl": 28.57129760277639
      },
      "1": {
        "avg_pnl": -11.886527432400896,
        "win_rate": 0.5,
        "total_trades": 4,
        "total_pnl": -47.546109729603586
      },
      "7": {
        "avg_pnl": 30.611936301865782,
        "win_rate": 1.0,
        "total_trades": 1,
        "total_pnl": 30.611936301865782
      },
      "10": {
        "avg_pnl": 9.708124019736884,
        "win_rate": 0.5,
        "total_trades": 2,
        "total_pnl": 19.416248039473768
      },
      "12": {
        "avg_pnl": 43.58083925793794,
        "win_rate": 1.0,
        "total_trades": 1,
        "total_pnl": 43.58083925793794
      }
    },
    "confidence_quartiles": {
      "Q1": {
        "avg_pnl": 4.530123742656944,
        "win_rate": 0.5833333333333334,
        "avg_confidence": -0.14684755923686219,
        "trades": 36
      },
      "Q2": {
        "avg_pnl": -9.316804871786607,
        "win_rate": 0.4722222222222222,
        "avg_confidence": -0.07206278654513545,
        "trades": 36
      },
      "Q3": {
        "avg_pnl": -10.295900753122742,
        "win_rate": 0.37142857142857144,
        "avg_confidence": 0.09046382281480955,
        "trades": 35
      },
      "Q4": {
        "avg_pnl": -8.549106380525423,
        "win_rate": 0.4166666666666667,
        "avg_confidence": 0.17275559485027855,
        "trades": 36
      }
    }
  },
  "threshold_sensitivity": [
    {
      "threshold": 0.3,
      "total_signals": 1075,
      "long_signals": 801,
      "short_signals": 274,
      "signal_ratio": 0.14182058047493404,
      "accuracy": 0.6009234828496042
    },
    {
      "threshold": 0.35,
      "total_signals": 1811,
      "long_signals": 955,
      "short_signals": 856,
      "signal_ratio": 0.23891820580474935,
      "accuracy": 0.5684696569920844
    },
    {
      "threshold": 0.39999999999999997,
      "total_signals": 2095,
      "long_signals": 644,
      "short_signals": 1451,
      "signal_ratio": 0.2763852242744063,
      "accuracy": 0.5676781002638522
    },
    {
      "threshold": 0.44999999999999996,
      "total_signals": 1784,
      "long_signals": 458,
      "short_signals": 1326,
      "signal_ratio": 0.23535620052770448,
      "accuracy": 0.604485488126649
    },
    {
      "threshold": 0.49999999999999994,
      "total_signals": 1184,
      "long_signals": 365,
      "short_signals": 819,
      "signal_ratio": 0.15620052770448548,
      "accuracy": 0.6627968337730871
    },
    {
      "threshold": 0.5499999999999999,
      "total_signals": 616,
      "long_signals": 285,
      "short_signals": 331,
      "signal_ratio": 0.0812664907651715,
      "accuracy": 0.6915567282321899
    },
    {
      "threshold": 0.5999999999999999,
      "total_signals": 369,
      "long_signals": 214,
      "short_signals": 155,
      "signal_ratio": 0.04868073878627968,
      "accuracy": 0.7040897097625329
    },
    {
      "threshold": 0.6499999999999999,
      "total_signals": 107,
      "long_signals": 55,
      "short_signals": 52,
      "signal_ratio": 0.014116094986807388,
      "accuracy": 0.6990765171503958
    },
    {
      "threshold": 0.7,
      "total_signals": 4,
      "long_signals": 4,
      "short_signals": 0,
      "signal_ratio": 0.0005277044854881266,
      "accuracy": 0.696042216358839
    },
    {
      "threshold": 0.7499999999999999,
      "total_signals": 0,
      "long_signals": 0,
      "short_signals": 0,
      "signal_ratio": 0.0,
      "accuracy": 0.696042216358839
    },
    {
      "threshold": 0.7999999999999998,
      "total_signals": 0,
      "long_signals": 0,
      "short_signals": 0,
      "signal_ratio": 0.0,
      "accuracy": 0.696042216358839
    }
  ],
  "best_params": {
    "n_estimators": 86,
    "max_depth": 9,
    "min_samples_split": 26,
    "min_samples_leaf": 24,
    "thr_long": 0.5516016425409921,
    "thr_short": 0.5545915860012939,
    "min_confidence": 0.06769098783168793,
    "stop_mult": 0.9240850925370021,
    "take_mult": 1.5512409950859154,
    "trailing_mult": 0.4073881863680907,
    "breakeven_mult": 0.4677758148913096
  },
  "config": {
    "session_config": {
      "prebuffer_min": 45,
      "session_len_min": 45,
      "volatility_window": 10,
      "zscore_window_days": 3,
      "volatility_threshold": 1.8,
      "cooldown_min": 30
    },
    "sim_config": {
      "commission": 0.001,
      "spread_pct": 0.0002,
      "risk_per_trade": 0.2,
      "max_position_pct": 0.5,
      "default_stop_pct": 0.005,
      "default_take_pct": 0.015,
      "max_hold_minutes": 30,
      "min_hold_bars": 3
    }
  }
}