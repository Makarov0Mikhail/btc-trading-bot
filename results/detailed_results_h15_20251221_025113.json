{
  "horizon": 15,
  "timestamp": "20251221_025113",
  "metrics": {
    "long_accuracy": 0.8548037889039242,
    "short_accuracy": 0.8579837618403248,
    "long_precision": 0.5,
    "short_precision": 0.0,
    "long_recall": 0.0009319664492078285,
    "short_recall": 0.0,
    "long_f1": 0.0018604651162790699,
    "short_f1": 0.0
  },
  "financial": {
    "pnl": 0.09229458317343564,
    "sharpe": 1.2945100010174573,
    "max_drawdown": 50.27750043937576
  },
  "feature_analysis": {
    "long_model": {
      "top_10_features": [
        {
          "feature": "atr_pct",
          "importance": 0.15379149878059045,
          "mutual_info": 0.006859143535735246,
          "abs_correlation": 0.023735262516078187
        },
        {
          "feature": "atr_14",
          "importance": 0.11418133522678914,
          "mutual_info": 0.006888432486860108,
          "abs_correlation": 0.01773014041611684
        },
        {
          "feature": "prev_range_pct",
          "importance": 0.09528058004725898,
          "mutual_info": 0.004661193583757273,
          "abs_correlation": 0.01904839803254543
        },
        {
          "feature": "log_volume",
          "importance": 0.06326904198263894,
          "mutual_info": 0.0,
          "abs_correlation": 0.016323330226594747
        },
        {
          "feature": "macd",
          "importance": 0.054248982779525334,
          "mutual_info": 0.0,
          "abs_correlation": 0.0023432960029551187
        },
        {
          "feature": "logret_mean_21",
          "importance": 0.05165587507439759,
          "mutual_info": 0.0010884420307883946,
          "abs_correlation": 0.03685416733842849
        },
        {
          "feature": "macd_signal",
          "importance": 0.04617897985513572,
          "mutual_info": 0.006834392094448916,
          "abs_correlation": 0.0175271903051269
        },
        {
          "feature": "logret_mean_14",
          "importance": 0.041649073305662594,
          "mutual_info": 0.0059107368961597295,
          "abs_correlation": 0.019334262857228553
        },
        {
          "feature": "logret_mean_7",
          "importance": 0.03951549817362877,
          "mutual_info": 0.013617417688531752,
          "abs_correlation": 0.14162636493505038
        },
        {
          "feature": "macd_hist",
          "importance": 0.03441067680002897,
          "mutual_info": 0.00026148616061605345,
          "abs_correlation": 0.011292463849302567
        }
      ],
      "feature_importance_stats": {
        "max_importance": 0.15379149878059045,
        "min_importance": 0.005260449541506106,
        "mean_importance": 0.04347826086956523
      }
    },
    "short_model": {
      "top_10_features": [
        {
          "feature": "atr_14",
          "importance": 0.13307003005327314,
          "mutual_info": 0.0027709001575735304,
          "abs_correlation": 0.013825149762860318
        },
        {
          "feature": "atr_pct",
          "importance": 0.1079566631203832,
          "mutual_info": 0.0001202773921289424,
          "abs_correlation": 0.010709684562613573
        },
        {
          "feature": "prev_range_pct",
          "importance": 0.06868014949787088,
          "mutual_info": 0.0006012791711185184,
          "abs_correlation": 0.005272652398126969
        },
        {
          "feature": "macd_signal",
          "importance": 0.06171749579540498,
          "mutual_info": 0.004413792423545448,
          "abs_correlation": 0.03627178075543437
        },
        {
          "feature": "macd",
          "importance": 0.058561566747082676,
          "mutual_info": 0.0038722416929588555,
          "abs_correlation": 0.02512950235997667
        },
        {
          "feature": "hour_sin",
          "importance": 0.05000382226058383,
          "mutual_info": 0.0,
          "abs_correlation": 0.01997639702800051
        },
        {
          "feature": "log_volume",
          "importance": 0.04303993501975835,
          "mutual_info": 4.4918999642540314e-05,
          "abs_correlation": 0.010849411935739317
        },
        {
          "feature": "macd_hist",
          "importance": 0.04226473879397106,
          "mutual_info": 0.0023067264633191975,
          "abs_correlation": 0.014344491492490086
        },
        {
          "feature": "logret_mean_21",
          "importance": 0.04208362123896471,
          "mutual_info": 0.007990623245584416,
          "abs_correlation": 0.09232799166898846
        },
        {
          "feature": "logret_mean_7",
          "importance": 0.04178030284226302,
          "mutual_info": 0.0,
          "abs_correlation": 0.000317206559050915
        }
      ],
      "feature_importance_stats": {
        "max_importance": 0.13307003005327314,
        "min_importance": 0.00917208446987259,
        "mean_importance": 0.04347826086956521
      }
    }
  },
  "trades_detailed": {
    "summary": {
      "total_trades": 3,
      "winning_trades": 2,
      "losing_trades": 1,
      "win_rate": 0.6666666666666666,
      "avg_win_pct": 0.0036672349924256054,
      "avg_loss_pct": -0.000975251182719794,
      "profit_factor": 1.7465175411246923,
      "largest_win_pct": 0.006551229577707263,
      "largest_loss_pct": -0.000975251182719794,
      "avg_holding_minutes": 15.0
    },
    "by_direction": {
      "long": {
        "total_trades": 3,
        "winning_trades": 2,
        "losing_trades": 1,
        "win_rate": 0.6666666666666666,
        "avg_win_pct": 0.0036672349924256054,
        "avg_loss_pct": -0.000975251182719794,
        "profit_factor": 1.7465175411246923,
        "largest_win_pct": 0.006551229577707263,
        "largest_loss_pct": -0.000975251182719794,
        "avg_holding_minutes": 15.0
      },
      "short": {
        "total_trades": 0,
        "winning_trades": 0,
        "losing_trades": 0,
        "win_rate": 0,
        "avg_win_pct": 0,
        "avg_loss_pct": 0,
        "profit_factor": 0,
        "largest_win_pct": 0,
        "largest_loss_pct": 0,
        "avg_holding_minutes": 0
      },
      "total_trades": 3,
      "long_count": 3,
      "short_count": 0
    },
    "trades_list": [
      {
        "entry_time": "2025-10-23 06:25:00",
        "exit_time": "2025-10-23 06:40:00",
        "direction": "LONG",
        "entry_price": 110024.30133,
        "exit_price": 109906.0083,
        "pnl_pct": -0.000975251182719794,
        "pnl_usd": -12.363350904572462,
        "exit_reason": "HORIZON_EXIT",
        "holding_time_minutes": 15.0,
        "confidence": 0.20461311826101486
      },
      {
        "entry_time": "2025-11-14 07:02:00",
        "exit_time": "2025-11-14 07:17:00",
        "direction": "LONG",
        "entry_price": 97369.83601,
        "exit_price": 97436.35539000001,
        "pnl_pct": 0.000783240407143948,
        "pnl_usd": -3.579640687778193,
        "exit_reason": "HORIZON_EXIT",
        "holding_time_minutes": 15.0,
        "confidence": 0.17913062605280805
      },
      {
        "entry_time": "2025-11-21 07:34:00",
        "exit_time": "2025-11-21 07:49:00",
        "direction": "LONG",
        "entry_price": 83353.13448000001,
        "exit_price": 83890.81008,
        "pnl_pct": 0.006551229577707263,
        "pnl_usd": 25.172449909693828,
        "exit_reason": "HORIZON_EXIT",
        "holding_time_minutes": 15.0,
        "confidence": 0.1984987793416464
      }
    ],
    "holding_time_stats": {
      "mean": 15.0,
      "median": 15.0,
      "min": 15.0,
      "max": 15.0,
      "std": 0.0
    },
    "exit_reasons": {
      "HORIZON_EXIT": 3
    },
    "hourly_performance": {
      "6": {
        "avg_pnl": -12.363350904572462,
        "win_rate": 0.0,
        "total_trades": 1,
        "total_pnl": -12.363350904572462
      },
      "7": {
        "avg_pnl": 10.796404610957818,
        "win_rate": 0.5,
        "total_trades": 2,
        "total_pnl": 21.592809221915637
      }
    }
  },
  "threshold_sensitivity": [
    {
      "threshold": 0.3,
      "total_signals": 801,
      "long_signals": 65,
      "short_signals": 736,
      "signal_ratio": 0.05419485791610284,
      "accuracy": 0.6675236806495264
    },
    {
      "threshold": 0.35,
      "total_signals": 2195,
      "long_signals": 737,
      "short_signals": 1458,
      "signal_ratio": 0.14851150202976995,
      "accuracy": 0.6028416779431665
    },
    {
      "threshold": 0.39999999999999997,
      "total_signals": 3312,
      "long_signals": 595,
      "short_signals": 2717,
      "signal_ratio": 0.22408660351826792,
      "accuracy": 0.5719215155615697
    },
    {
      "threshold": 0.44999999999999996,
      "total_signals": 3230,
      "long_signals": 509,
      "short_signals": 2721,
      "signal_ratio": 0.2185385656292287,
      "accuracy": 0.605615696887686
    },
    {
      "threshold": 0.49999999999999994,
      "total_signals": 2572,
      "long_signals": 539,
      "short_signals": 2033,
      "signal_ratio": 0.1740189445196211,
      "accuracy": 0.6552774018944519
    },
    {
      "threshold": 0.5499999999999999,
      "total_signals": 1634,
      "long_signals": 480,
      "short_signals": 1154,
      "signal_ratio": 0.11055480378890392,
      "accuracy": 0.6991204330175913
    },
    {
      "threshold": 0.5999999999999999,
      "total_signals": 946,
      "long_signals": 421,
      "short_signals": 525,
      "signal_ratio": 0.06400541271989174,
      "accuracy": 0.7130581867388363
    },
    {
      "threshold": 0.6499999999999999,
      "total_signals": 279,
      "long_signals": 183,
      "short_signals": 96,
      "signal_ratio": 0.01887686062246279,
      "accuracy": 0.7178619756427604
    },
    {
      "threshold": 0.7,
      "total_signals": 41,
      "long_signals": 32,
      "short_signals": 9,
      "signal_ratio": 0.002774018944519621,
      "accuracy": 0.7144790257104194
    },
    {
      "threshold": 0.7499999999999999,
      "total_signals": 2,
      "long_signals": 2,
      "short_signals": 0,
      "signal_ratio": 0.00013531799729364006,
      "accuracy": 0.7129228687415426
    },
    {
      "threshold": 0.7999999999999998,
      "total_signals": 1,
      "long_signals": 1,
      "short_signals": 0,
      "signal_ratio": 6.765899864682003e-05,
      "accuracy": 0.7128552097428958
    }
  ],
  "best_params": {
    "n_estimators": 100,
    "max_depth": 8,
    "min_samples_split": 33,
    "min_samples_leaf": 13,
    "thr_long": 0.6205425403309931,
    "thr_short": 0.6065921062252592,
    "min_confidence": 0.1741942695041902,
    "stop_mult": 0.9686931897384706,
    "take_mult": 1.5101457098854354,
    "trailing_mult": 0.5958481146186312,
    "breakeven_mult": 0.500931764375715
  },
  "config": {
    "session_config": {
      "prebuffer_min": 45,
      "session_len_min": 45,
      "volatility_window": 10,
      "zscore_window_days": 3,
      "volatility_threshold": 1.8,
      "cooldown_min": 30
    },
    "sim_config": {
      "commission": 0.001,
      "spread_pct": 0.0002,
      "risk_per_trade": 0.2,
      "max_position_pct": 0.5,
      "default_stop_pct": 0.005,
      "default_take_pct": 0.015,
      "max_hold_minutes": 30,
      "min_hold_bars": 3
    }
  }
}