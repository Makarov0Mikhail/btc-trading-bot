{
  "horizon": 15,
  "timestamp": "20251222_020035",
  "metrics": {
    "long_accuracy": 0.8542625169147496,
    "short_accuracy": 0.8579837618403248,
    "long_precision": 0.40476190476190477,
    "short_precision": 0.0,
    "long_recall": 0.007921714818266543,
    "short_recall": 0.0,
    "long_f1": 0.015539305301645339,
    "short_f1": 0.0
  },
  "financial": {
    "pnl": 1.972510271328698,
    "sharpe": 3.175215217913002,
    "max_drawdown": 50.10974237998146
  },
  "feature_analysis": {
    "long_model": {
      "top_10_features": [
        {
          "feature": "atr_pct",
          "importance": 0.38498110149041576,
          "mutual_info": 0.007056689051307075,
          "abs_correlation": 0.023735262516078187
        },
        {
          "feature": "macd_hist",
          "importance": 0.10631862806578028,
          "mutual_info": 0.006713849755652257,
          "abs_correlation": 0.01773014041611684
        },
        {
          "feature": "log_return",
          "importance": 0.1023339363920882,
          "mutual_info": 0.0020137820157954955,
          "abs_correlation": 0.016323330226594747
        },
        {
          "feature": "rsi_14",
          "importance": 0.07702435366136673,
          "mutual_info": 0.0003579442470220684,
          "abs_correlation": 0.0023432960029551187
        },
        {
          "feature": "prev_candle_body",
          "importance": 0.0627680130673085,
          "mutual_info": 0.0024918177313073553,
          "abs_correlation": 0.03685416733842849
        },
        {
          "feature": "log_return_lag_2",
          "importance": 0.062185611807568486,
          "mutual_info": 0.006902293024725781,
          "abs_correlation": 0.0175271903051269
        },
        {
          "feature": "volume_change_lag_1",
          "importance": 0.054062564548094404,
          "mutual_info": 0.00026148616061605345,
          "abs_correlation": 0.011292463849302567
        },
        {
          "feature": "volume_change",
          "importance": 0.051545719729720496,
          "mutual_info": 0.0,
          "abs_correlation": 0.006575303591907652
        },
        {
          "feature": "hour_sin",
          "importance": 0.04500545017651145,
          "mutual_info": 0.023240954394492697,
          "abs_correlation": 0.18583830594453596
        },
        {
          "feature": "hour_cos",
          "importance": 0.03993523419358675,
          "mutual_info": 0.0026220285163252033,
          "abs_correlation": 0.03604354412282884
        }
      ],
      "feature_importance_stats": {
        "max_importance": 0.38498110149041576,
        "min_importance": 0.013839386867558829,
        "mean_importance": 0.09090909090909091
      }
    },
    "short_model": {
      "top_10_features": [
        {
          "feature": "atr_pct",
          "importance": 0.29856807801026974,
          "mutual_info": 0.0028237643032689164,
          "abs_correlation": 0.013825149762860318
        },
        {
          "feature": "macd_hist",
          "importance": 0.10952124895252334,
          "mutual_info": 0.00015898117132784328,
          "abs_correlation": 0.010709684562613573
        },
        {
          "feature": "rsi_14",
          "importance": 0.08788124801173837,
          "mutual_info": 0.0024398385795336708,
          "abs_correlation": 0.03627178075543437
        },
        {
          "feature": "hour_sin",
          "importance": 0.08380096433247243,
          "mutual_info": 0.0007099767019780323,
          "abs_correlation": 0.02512950235997667
        },
        {
          "feature": "log_return",
          "importance": 0.0836630573857015,
          "mutual_info": 0.0,
          "abs_correlation": 0.01997639702800051
        },
        {
          "feature": "volume_change_lag_1",
          "importance": 0.06676509849287035,
          "mutual_info": 3.3397212902075424e-05,
          "abs_correlation": 0.010849411935739317
        },
        {
          "feature": "log_return_lag_2",
          "importance": 0.0659905955929696,
          "mutual_info": 0.0,
          "abs_correlation": 0.000317206559050915
        },
        {
          "feature": "hour_cos",
          "importance": 0.0636602442037569,
          "mutual_info": 0.001342184344048869,
          "abs_correlation": 0.006554500697066211
        },
        {
          "feature": "prev_candle_body",
          "importance": 0.06121793338181214,
          "mutual_info": 0.010899081896031504,
          "abs_correlation": 0.11019698436232978
        },
        {
          "feature": "volume_change",
          "importance": 0.059629030087041734,
          "mutual_info": 0.002625190256781984,
          "abs_correlation": 0.01894983190218393
        }
      ],
      "feature_importance_stats": {
        "max_importance": 0.29856807801026974,
        "min_importance": 0.019302501548843953,
        "mean_importance": 0.09090909090909091
      }
    }
  },
  "trades_detailed": {
    "summary": {
      "total_trades": 18,
      "winning_trades": 15,
      "losing_trades": 3,
      "win_rate": 0.8333333333333334,
      "avg_win_pct": 0.004636990747171218,
      "avg_loss_pct": -0.0011098596340366473,
      "profit_factor": 5.976489760351275,
      "largest_win_pct": 0.010046456870002718,
      "largest_loss_pct": -0.0021760834767640125,
      "avg_holding_minutes": 9.666666666666666
    },
    "by_direction": {
      "long": {
        "total_trades": 18,
        "winning_trades": 15,
        "losing_trades": 3,
        "win_rate": 0.8333333333333334,
        "avg_win_pct": 0.004636990747171218,
        "avg_loss_pct": -0.0011098596340366473,
        "profit_factor": 5.976489760351275,
        "largest_win_pct": 0.010046456870002718,
        "largest_loss_pct": -0.0021760834767640125,
        "avg_holding_minutes": 9.666666666666666
      },
      "short": {
        "total_trades": 0,
        "winning_trades": 0,
        "losing_trades": 0,
        "win_rate": 0,
        "avg_win_pct": 0,
        "avg_loss_pct": 0,
        "profit_factor": 0,
        "largest_win_pct": 0,
        "largest_loss_pct": 0,
        "avg_holding_minutes": 0
      },
      "total_trades": 18,
      "long_count": 18,
      "short_count": 0
    },
    "trades_list": [
      {
        "entry_time": "2025-10-03 17:00:00",
        "exit_time": "2025-10-03 17:03:00",
        "direction": "LONG",
        "entry_price": 121817.58054,
        "exit_price": 121920.60672000001,
        "pnl_pct": 0.0009458360565794965,
        "pnl_usd": -2.772312111807287,
        "exit_reason": "MODEL_EXIT",
        "holding_time_minutes": 3.0,
        "confidence": 0.22841666117720844
      },
      {
        "entry_time": "2025-10-17 06:48:00",
        "exit_time": "2025-10-17 07:03:00",
        "direction": "LONG",
        "entry_price": 106761.97513,
        "exit_price": 106667.73216,
        "pnl_pct": -0.0007828173832326035,
        "pnl_usd": -11.399462920471152,
        "exit_reason": "HORIZON_EXIT",
        "holding_time_minutes": 15.0,
        "confidence": 0.20405277131008626
      },
      {
        "entry_time": "2025-10-17 08:16:00",
        "exit_time": "2025-10-17 08:20:00",
        "direction": "LONG",
        "entry_price": 104515.65052,
        "exit_price": 104747.32422000001,
        "pnl_pct": 0.0023168729161158197,
        "pnl_usd": 4.066825488899097,
        "exit_reason": "MODEL_EXIT",
        "holding_time_minutes": 4.0,
        "confidence": 0.16179260822250735
      },
      {
        "entry_time": "2025-10-17 10:23:00",
        "exit_time": "2025-10-17 10:38:00",
        "direction": "LONG",
        "entry_price": 103621.3611,
        "exit_price": 104403.65859,
        "pnl_pct": 0.007650342473642935,
        "pnl_usd": 30.668951525836107,
        "exit_reason": "HORIZON_EXIT",
        "holding_time_minutes": 15.0,
        "confidence": 0.1700421334845737
      },
      {
        "entry_time": "2025-10-19 10:04:00",
        "exit_time": "2025-10-19 10:19:00",
        "direction": "LONG",
        "entry_price": 107192.11813999999,
        "exit_price": 107474.35149,
        "pnl_pct": 0.0027332406998186176,
        "pnl_usd": 6.163965138589493,
        "exit_reason": "HORIZON_EXIT",
        "holding_time_minutes": 15.0,
        "confidence": 0.1892178668267167
      },
      {
        "entry_time": "2025-10-21 22:31:00",
        "exit_time": "2025-10-21 22:46:00",
        "direction": "LONG",
        "entry_price": 108106.8096,
        "exit_price": 109181.98070999999,
        "pnl_pct": 0.010046456870002718,
        "pnl_usd": 42.7766166525776,
        "exit_reason": "HORIZON_EXIT",
        "holding_time_minutes": 15.0,
        "confidence": 0.20969305544857814
      },
      {
        "entry_time": "2025-10-28 14:43:00",
        "exit_time": "2025-10-28 14:48:00",
        "direction": "LONG",
        "entry_price": 114622.36108999999,
        "exit_price": 114771.22173,
        "pnl_pct": 0.0013988449415565096,
        "pnl_usd": -0.5142120584545142,
        "exit_reason": "MODEL_EXIT",
        "holding_time_minutes": 5.0,
        "confidence": 0.16176398297163946
      },
      {
        "entry_time": "2025-11-04 05:56:00",
        "exit_time": "2025-11-04 06:11:00",
        "direction": "LONG",
        "entry_price": 104168.11576999999,
        "exit_price": 104470.45190999999,
        "pnl_pct": 0.0030026868364463333,
        "pnl_usd": 7.548245734842563,
        "exit_reason": "HORIZON_EXIT",
        "holding_time_minutes": 15.0,
        "confidence": 0.1681391454230367
      },
      {
        "entry_time": "2025-11-06 16:42:00",
        "exit_time": "2025-11-06 16:46:00",
        "direction": "LONG",
        "entry_price": 100448.44383999999,
        "exit_price": 100709.32806,
        "pnl_pct": 0.0026974649844411225,
        "pnl_usd": 6.018419371979277,
        "exit_reason": "MODEL_EXIT",
        "holding_time_minutes": 4.0,
        "confidence": 0.1618413731748779
      },
      {
        "entry_time": "2025-11-14 04:41:00",
        "exit_time": "2025-11-14 04:56:00",
        "direction": "LONG",
        "entry_price": 97030.00203,
        "exit_price": 97795.51947,
        "pnl_pct": 0.007990291186021903,
        "pnl_usd": 32.664630975178866,
        "exit_reason": "HORIZON_EXIT",
        "holding_time_minutes": 15.0,
        "confidence": 0.17802170226515424
      },
      {
        "entry_time": "2025-11-14 06:47:00",
        "exit_time": "2025-11-14 06:56:00",
        "direction": "LONG",
        "entry_price": 96277.72681000001,
        "exit_price": 97125.48647999999,
        "pnl_pct": 0.008906246734430967,
        "pnl_usd": 37.39605820372329,
        "exit_reason": "TAKE_PROFIT",
        "holding_time_minutes": 9.0,
        "confidence": 0.17529365742936903
      },
      {
        "entry_time": "2025-11-14 06:57:00",
        "exit_time": "2025-11-14 07:04:00",
        "direction": "LONG",
        "entry_price": 97159.81501,
        "exit_price": 97114.08762,
        "pnl_pct": -0.000370678042113326,
        "pnl_usd": -9.487637627773854,
        "exit_reason": "STOP_LOSS",
        "holding_time_minutes": 7.0,
        "confidence": 0.1825387549095991
      },
      {
        "entry_time": "2025-11-14 16:05:00",
        "exit_time": "2025-11-14 16:08:00",
        "direction": "LONG",
        "entry_price": 96263.32536999999,
        "exit_price": 96429.45609,
        "pnl_pct": 0.001825977123939948,
        "pnl_usd": 1.6450098884464368,
        "exit_reason": "MODEL_EXIT",
        "holding_time_minutes": 3.0,
        "confidence": 0.16625903776620538
      },
      {
        "entry_time": "2025-11-16 15:56:00",
        "exit_time": "2025-11-16 16:04:00",
        "direction": "LONG",
        "entry_price": 94527.65182,
        "exit_price": 94731.02595,
        "pnl_pct": 0.0022517028181903154,
        "pnl_usd": 3.8014856348533304,
        "exit_reason": "MODEL_EXIT",
        "holding_time_minutes": 8.0,
        "confidence": 0.2438792584368567
      },
      {
        "entry_time": "2025-11-21 02:18:00",
        "exit_time": "2025-11-21 02:23:00",
        "direction": "LONG",
        "entry_price": 86150.6142,
        "exit_price": 86697.52937999999,
        "pnl_pct": 0.006449005676386621,
        "pnl_usd": 25.069311242274527,
        "exit_reason": "MODEL_EXIT",
        "holding_time_minutes": 5.0,
        "confidence": 0.20110929367759206
      },
      {
        "entry_time": "2025-11-21 07:33:00",
        "exit_time": "2025-11-21 07:48:00",
        "direction": "LONG",
        "entry_price": 83155.11468,
        "exit_price": 83915.20764000001,
        "pnl_pct": 0.009241588120674438,
        "pnl_usd": 39.315318490242504,
        "exit_reason": "HORIZON_EXIT",
        "holding_time_minutes": 15.0,
        "confidence": 0.18131129514388428
      },
      {
        "entry_time": "2025-11-21 07:49:00",
        "exit_time": "2025-11-21 08:04:00",
        "direction": "LONG",
        "entry_price": 83907.58992,
        "exit_price": 83716.6275,
        "pnl_pct": -0.0021760834767640125,
        "pnl_usd": -18.74947797029486,
        "exit_reason": "HORIZON_EXIT",
        "holding_time_minutes": 15.0,
        "confidence": 0.15522136644883183
      },
      {
        "entry_time": "2025-12-09 17:24:00",
        "exit_time": "2025-12-09 17:30:00",
        "direction": "LONG",
        "entry_price": 93618.06087,
        "exit_price": 93805.11855,
        "pnl_pct": 0.0020983037693205198,
        "pnl_usd": 3.0392914742315518,
        "exit_reason": "MODEL_EXIT",
        "holding_time_minutes": 6.0,
        "confidence": 0.15421473817696674
      }
    ],
    "holding_time_stats": {
      "mean": 9.666666666666666,
      "median": 8.5,
      "min": 3.0,
      "max": 15.0,
      "std": 4.988876515698588
    },
    "exit_reasons": {
      "MODEL_EXIT": 8,
      "HORIZON_EXIT": 8,
      "TAKE_PROFIT": 1,
      "STOP_LOSS": 1
    },
    "hourly_performance": {
      "17": {
        "avg_pnl": 0.13348968121213245,
        "win_rate": 0.5,
        "total_trades": 2,
        "total_pnl": 0.2669793624242649
      },
      "6": {
        "avg_pnl": 5.502985885159429,
        "win_rate": 0.3333333333333333,
        "total_trades": 3,
        "total_pnl": 16.508957655478287
      },
      "8": {
        "avg_pnl": 4.066825488899097,
        "win_rate": 1.0,
        "total_trades": 1,
        "total_pnl": 4.066825488899097
      },
      "10": {
        "avg_pnl": 18.416458332212798,
        "win_rate": 1.0,
        "total_trades": 2,
        "total_pnl": 36.832916664425596
      },
      "22": {
        "avg_pnl": 42.7766166525776,
        "win_rate": 1.0,
        "total_trades": 1,
        "total_pnl": 42.7766166525776
      },
      "14": {
        "avg_pnl": -0.5142120584545142,
        "win_rate": 0.0,
        "total_trades": 1,
        "total_pnl": -0.5142120584545142
      },
      "5": {
        "avg_pnl": 7.548245734842563,
        "win_rate": 1.0,
        "total_trades": 1,
        "total_pnl": 7.548245734842563
      },
      "16": {
        "avg_pnl": 3.831714630212857,
        "win_rate": 1.0,
        "total_trades": 2,
        "total_pnl": 7.663429260425714
      },
      "4": {
        "avg_pnl": 32.664630975178866,
        "win_rate": 1.0,
        "total_trades": 1,
        "total_pnl": 32.664630975178866
      },
      "15": {
        "avg_pnl": 3.8014856348533304,
        "win_rate": 1.0,
        "total_trades": 1,
        "total_pnl": 3.8014856348533304
      },
      "2": {
        "avg_pnl": 25.069311242274527,
        "win_rate": 1.0,
        "total_trades": 1,
        "total_pnl": 25.069311242274527
      },
      "7": {
        "avg_pnl": 10.282920259973823,
        "win_rate": 0.5,
        "total_trades": 2,
        "total_pnl": 20.565840519947646
      }
    },
    "confidence_quartiles": {
      "Q1": {
        "avg_pnl": -1.2278307387278893,
        "win_rate": 0.6,
        "avg_confidence": 0.15896681379896466,
        "trades": 5
      },
      "Q2": {
        "avg_pnl": 19.3145663382121,
        "win_rate": 1.0,
        "avg_confidence": 0.16993349352579623,
        "trades": 4
      },
      "Q3": {
        "avg_pnl": 17.164069244059252,
        "win_rate": 0.75,
        "avg_confidence": 0.18277240478633855,
        "trades": 4
      },
      "Q4": {
        "avg_pnl": 11.495127699485403,
        "win_rate": 0.6,
        "avg_confidence": 0.2174302080100643,
        "trades": 5
      }
    }
  },
  "threshold_sensitivity": [
    {
      "threshold": 0.3,
      "total_signals": 1516,
      "long_signals": 709,
      "short_signals": 807,
      "signal_ratio": 0.10257104194857916,
      "accuracy": 0.6343031123139378
    },
    {
      "threshold": 0.35,
      "total_signals": 2905,
      "long_signals": 585,
      "short_signals": 2320,
      "signal_ratio": 0.19654939106901217,
      "accuracy": 0.5799729364005413
    },
    {
      "threshold": 0.39999999999999997,
      "total_signals": 3674,
      "long_signals": 578,
      "short_signals": 3096,
      "signal_ratio": 0.2485791610284168,
      "accuracy": 0.570297699594046
    },
    {
      "threshold": 0.44999999999999996,
      "total_signals": 2760,
      "long_signals": 919,
      "short_signals": 1841,
      "signal_ratio": 0.18673883626522328,
      "accuracy": 0.625913396481732
    },
    {
      "threshold": 0.49999999999999994,
      "total_signals": 1923,
      "long_signals": 669,
      "short_signals": 1254,
      "signal_ratio": 0.1301082543978349,
      "accuracy": 0.681190798376184
    },
    {
      "threshold": 0.5499999999999999,
      "total_signals": 1302,
      "long_signals": 531,
      "short_signals": 771,
      "signal_ratio": 0.08809201623815968,
      "accuracy": 0.6985791610284168
    },
    {
      "threshold": 0.5999999999999999,
      "total_signals": 749,
      "long_signals": 571,
      "short_signals": 178,
      "signal_ratio": 0.0506765899864682,
      "accuracy": 0.7139377537212449
    },
    {
      "threshold": 0.6499999999999999,
      "total_signals": 256,
      "long_signals": 228,
      "short_signals": 28,
      "signal_ratio": 0.017320703653585928,
      "accuracy": 0.7163058186738837
    },
    {
      "threshold": 0.7,
      "total_signals": 38,
      "long_signals": 35,
      "short_signals": 3,
      "signal_ratio": 0.002571041948579161,
      "accuracy": 0.7140054127198917
    },
    {
      "threshold": 0.7499999999999999,
      "total_signals": 1,
      "long_signals": 1,
      "short_signals": 0,
      "signal_ratio": 6.765899864682003e-05,
      "accuracy": 0.7128552097428958
    },
    {
      "threshold": 0.7999999999999998,
      "total_signals": 0,
      "long_signals": 0,
      "short_signals": 0,
      "signal_ratio": 0.0,
      "accuracy": 0.7127875507442489
    }
  ],
  "best_params": {
    "n_estimators": 90,
    "max_depth": 7,
    "min_samples_split": 30,
    "min_samples_leaf": 13,
    "thr_long": 0.6096154814226242,
    "thr_short": 0.6639846692454341,
    "min_confidence": 0.15377705044134268,
    "stop_mult": 0.9319009584527512,
    "take_mult": 1.693259089167599,
    "trailing_mult": 0.8413503067394675,
    "breakeven_mult": 0.6545464432374822,
    "exit_confidence_drop": 0.2287545571034939
  },
  "config": {
    "session_config": {
      "prebuffer_min": 45,
      "session_len_min": 45,
      "volatility_window": 10,
      "zscore_window_days": 3,
      "volatility_threshold": 1.8,
      "cooldown_min": 30
    },
    "sim_config": {
      "commission": 0.001,
      "spread_pct": 0.0002,
      "risk_per_trade": 0.2,
      "max_position_pct": 0.5,
      "default_stop_pct": 0.005,
      "default_take_pct": 0.015,
      "max_hold_minutes": 30,
      "min_hold_bars": 3
    }
  }
}