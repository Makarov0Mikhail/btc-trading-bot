{
  "horizon": 10,
  "timestamp": "20251218_015037",
  "metrics": {
    "long_accuracy": 0.8083459434291701,
    "short_accuracy": 0.8151553951810033,
    "long_precision": 0.3380281690140845,
    "short_precision": 1.0,
    "long_recall": 0.02999062792877226,
    "short_recall": 0.0003147623544224111,
    "long_f1": 0.05509325681492109,
    "short_f1": 0.0006293266205160479
  },
  "financial": {
    "pnl": -9.199657675465101,
    "sharpe": 22.535596318682508,
    "max_drawdown": 66.94499404263775
  },
  "feature_analysis": {
    "long_model": {
      "top_10_features": [
        {
          "feature": "atr_pct",
          "importance": 0.3164863784129847,
          "mutual_info": 0.006885986153380985,
          "abs_correlation": 0.03379073157177336
        },
        {
          "feature": "sma_7",
          "importance": 0.11759891765441638,
          "mutual_info": 0.0059102928936125565,
          "abs_correlation": 0.02539152846586131
        },
        {
          "feature": "log_return",
          "importance": 0.08296414156813169,
          "mutual_info": 0.005130038371001788,
          "abs_correlation": 0.020811790498981332
        },
        {
          "feature": "macd_hist",
          "importance": 0.07905556660992306,
          "mutual_info": 0.0020950301402946625,
          "abs_correlation": 0.01442352040791242
        },
        {
          "feature": "log_return_lag_1",
          "importance": 0.07037907828907003,
          "mutual_info": 0.0017678592288847828,
          "abs_correlation": 0.011337432152909534
        },
        {
          "feature": "rsi_14",
          "importance": 0.06603848491110285,
          "mutual_info": 0.0022644368235176238,
          "abs_correlation": 0.03261175198940797
        },
        {
          "feature": "prev_candle_body",
          "importance": 0.051137743040472895,
          "mutual_info": 0.005202427755429007,
          "abs_correlation": 0.0206566766823978
        },
        {
          "feature": "log_return_lag_2",
          "importance": 0.049087325395256946,
          "mutual_info": 0.025164023782921374,
          "abs_correlation": 0.0802374152581831
        },
        {
          "feature": "volume_change_lag_1",
          "importance": 0.04594662398933187,
          "mutual_info": 0.021766294967987765,
          "abs_correlation": 0.16835844815208345
        },
        {
          "feature": "volume_change",
          "importance": 0.04492554144765002,
          "mutual_info": 0.0018551321930577735,
          "abs_correlation": 0.039443166400233654
        }
      ],
      "feature_importance_stats": {
        "max_importance": 0.3164863784129847,
        "min_importance": 0.007841196334338248,
        "mean_importance": 0.07692307692307691
      }
    },
    "short_model": {
      "top_10_features": [
        {
          "feature": "atr_pct",
          "importance": 0.2154515421482458,
          "mutual_info": 0.002427000782322164,
          "abs_correlation": 0.01733702383422339
        },
        {
          "feature": "sma_7",
          "importance": 0.17362547260881825,
          "mutual_info": 0.004524722502461165,
          "abs_correlation": 0.013213051329808908
        },
        {
          "feature": "macd_hist",
          "importance": 0.08534169826353341,
          "mutual_info": 0.0013458110370907495,
          "abs_correlation": 0.008231064365122779
        },
        {
          "feature": "rsi_14",
          "importance": 0.07405413831427303,
          "mutual_info": 0.0015907305259468263,
          "abs_correlation": 0.03538102604065226
        },
        {
          "feature": "log_return_lag_1",
          "importance": 0.0658319379963281,
          "mutual_info": 0.004235249202808822,
          "abs_correlation": 0.03192771408599976
        },
        {
          "feature": "log_return",
          "importance": 0.06459545757288132,
          "mutual_info": 0.0,
          "abs_correlation": 0.01794308490448036
        },
        {
          "feature": "hour_sin",
          "importance": 0.06266318041354058,
          "mutual_info": 0.0014214748921621556,
          "abs_correlation": 0.00836820525468705
        },
        {
          "feature": "log_return_lag_2",
          "importance": 0.0516816609280277,
          "mutual_info": 0.02501178506461299,
          "abs_correlation": 0.09735087894039794
        },
        {
          "feature": "volume_change_lag_1",
          "importance": 0.049956511665408224,
          "mutual_info": 0.011564223357459102,
          "abs_correlation": 0.11134109518928197
        },
        {
          "feature": "volume_change",
          "importance": 0.048963193100498945,
          "mutual_info": 0.00147106034900224,
          "abs_correlation": 0.024851319607993805
        }
      ],
      "feature_importance_stats": {
        "max_importance": 0.2154515421482458,
        "min_importance": 0.011572448172989438,
        "mean_importance": 0.07692307692307691
      }
    }
  },
  "trades_detailed": {
    "summary": {
      "total_trades": 121,
      "winning_trades": 60,
      "losing_trades": 61,
      "win_rate": 0.49586776859504134,
      "avg_win_pct": 0.0034742902610910655,
      "avg_loss_pct": -0.0035914776262508485,
      "profit_factor": 0.37967507099885345,
      "largest_win_pct": 0.011896982273257972,
      "largest_loss_pct": -0.019478852467624597,
      "avg_holding_minutes": 15.669421487603305
    },
    "by_direction": {
      "long": {
        "total_trades": 120,
        "winning_trades": 59,
        "losing_trades": 61,
        "win_rate": 0.49166666666666664,
        "avg_win_pct": 0.0033338846143535885,
        "avg_loss_pct": -0.0035914776262508485,
        "profit_factor": 0.34849707526822293,
        "largest_win_pct": 0.011896982273257972,
        "largest_loss_pct": -0.019478852467624597,
        "avg_holding_minutes": 15.733333333333333
      },
      "short": {
        "total_trades": 1,
        "winning_trades": 1,
        "losing_trades": 0,
        "win_rate": 1.0,
        "avg_win_pct": 0.01175822341860222,
        "avg_loss_pct": 0,
        "profit_factor": Infinity,
        "largest_win_pct": 0.01175822341860222,
        "largest_loss_pct": 0,
        "avg_holding_minutes": 8.0
      },
      "total_trades": 121,
      "long_count": 120,
      "short_count": 1
    },
    "holding_time_stats": {
      "mean": 15.669421487603305,
      "median": 10.0,
      "min": 1.0,
      "max": 243.0,
      "std": 26.173100957183316
    },
    "exit_reasons": {
      "HORIZON_EXIT": 86,
      "STOP_LOSS": 29,
      "TAKE_PROFIT": 2,
      "MAX_HOLD": 4
    },
    "hourly_performance": {
      "6": {
        "avg_pnl": 3.95268665685243,
        "win_rate": 0.3333333333333333,
        "total_trades": 6,
        "total_pnl": 23.71611994111458
      },
      "16": {
        "avg_pnl": -12.871644555577818,
        "win_rate": 0.3333333333333333,
        "total_trades": 12,
        "total_pnl": -154.45973466693383
      },
      "13": {
        "avg_pnl": -2.792213558052604,
        "win_rate": 0.5714285714285714,
        "total_trades": 7,
        "total_pnl": -19.545494906368226
      },
      "14": {
        "avg_pnl": -3.5377729555528252,
        "win_rate": 0.45454545454545453,
        "total_trades": 11,
        "total_pnl": -38.91550251108108
      },
      "15": {
        "avg_pnl": -11.113285112315262,
        "win_rate": 0.3,
        "total_trades": 10,
        "total_pnl": -111.13285112315262
      },
      "7": {
        "avg_pnl": -24.210611194674517,
        "win_rate": 0.3333333333333333,
        "total_trades": 3,
        "total_pnl": -72.63183358402355
      },
      "19": {
        "avg_pnl": -12.395929475811343,
        "win_rate": 0.25,
        "total_trades": 8,
        "total_pnl": -99.16743580649074
      },
      "20": {
        "avg_pnl": 1.7816686447090693,
        "win_rate": 0.42857142857142855,
        "total_trades": 7,
        "total_pnl": 12.471680512963484
      },
      "21": {
        "avg_pnl": -3.9247036596908047,
        "win_rate": 0.5,
        "total_trades": 4,
        "total_pnl": -15.698814638763219
      },
      "8": {
        "avg_pnl": 6.560917678778728,
        "win_rate": 0.6666666666666666,
        "total_trades": 3,
        "total_pnl": 19.682753036336184
      },
      "10": {
        "avg_pnl": -4.760992248444349,
        "win_rate": 0.5,
        "total_trades": 4,
        "total_pnl": -19.043968993777398
      },
      "4": {
        "avg_pnl": -7.667927316315707,
        "win_rate": 0.4,
        "total_trades": 5,
        "total_pnl": -38.33963658157853
      },
      "22": {
        "avg_pnl": 11.33667479479715,
        "win_rate": 0.75,
        "total_trades": 4,
        "total_pnl": 45.3466991791886
      },
      "17": {
        "avg_pnl": -5.7635237948252325,
        "win_rate": 0.25,
        "total_trades": 8,
        "total_pnl": -46.10819035860186
      },
      "3": {
        "avg_pnl": 7.034783296656079,
        "win_rate": 0.3333333333333333,
        "total_trades": 3,
        "total_pnl": 21.104349889968237
      },
      "5": {
        "avg_pnl": -5.353241552518776,
        "win_rate": 0.5,
        "total_trades": 4,
        "total_pnl": -21.412966210075105
      },
      "18": {
        "avg_pnl": -9.82029277073529,
        "win_rate": 0.4,
        "total_trades": 5,
        "total_pnl": -49.10146385367645
      },
      "0": {
        "avg_pnl": -35.33781729031435,
        "win_rate": 0.0,
        "total_trades": 3,
        "total_pnl": -106.01345187094304
      },
      "2": {
        "avg_pnl": -14.17111040261115,
        "win_rate": 0.0,
        "total_trades": 7,
        "total_pnl": -99.19777281827805
      },
      "1": {
        "avg_pnl": 0.7621507812341268,
        "win_rate": 1.0,
        "total_trades": 1,
        "total_pnl": 0.7621507812341268
      },
      "9": {
        "avg_pnl": -47.29273589987794,
        "win_rate": 0.5,
        "total_trades": 2,
        "total_pnl": -94.58547179975588
      },
      "23": {
        "avg_pnl": -13.919354773480682,
        "win_rate": 0.3333333333333333,
        "total_trades": 3,
        "total_pnl": -41.758064320442045
      },
      "11": {
        "avg_pnl": -15.936866843384069,
        "win_rate": 0.0,
        "total_trades": 1,
        "total_pnl": -15.936866843384069
      }
    },
    "confidence_quartiles": {
      "Q1": {
        "avg_pnl": -8.489349836003313,
        "win_rate": 0.3870967741935484,
        "avg_confidence": 0.06235775823693503,
        "trades": 31
      },
      "Q2": {
        "avg_pnl": -2.8378010687071593,
        "win_rate": 0.43333333333333335,
        "avg_confidence": 0.08533526729567407,
        "trades": 30
      },
      "Q3": {
        "avg_pnl": -9.26085322822964,
        "win_rate": 0.3,
        "avg_confidence": 0.10668211634973683,
        "trades": 30
      },
      "Q4": {
        "avg_pnl": -9.794543124077126,
        "win_rate": 0.36666666666666664,
        "avg_confidence": 0.1534609676877409,
        "trades": 30
      }
    }
  },
  "threshold_sensitivity": [
    {
      "threshold": 0.3,
      "total_signals": 961,
      "long_signals": 288,
      "short_signals": 673,
      "signal_ratio": 0.05593062507275055,
      "accuracy": 0.5910254917937376
    },
    {
      "threshold": 0.35,
      "total_signals": 2428,
      "long_signals": 1397,
      "short_signals": 1031,
      "signal_ratio": 0.1413106739611221,
      "accuracy": 0.5434757304155512
    },
    {
      "threshold": 0.39999999999999997,
      "total_signals": 3911,
      "long_signals": 1838,
      "short_signals": 2073,
      "signal_ratio": 0.22762192992666744,
      "accuracy": 0.5289838202770341
    },
    {
      "threshold": 0.44999999999999996,
      "total_signals": 3935,
      "long_signals": 1079,
      "short_signals": 2856,
      "signal_ratio": 0.22901874054242813,
      "accuracy": 0.5565708299383075
    },
    {
      "threshold": 0.49999999999999994,
      "total_signals": 2775,
      "long_signals": 1028,
      "short_signals": 1747,
      "signal_ratio": 0.1615062274473286,
      "accuracy": 0.6108136421836806
    },
    {
      "threshold": 0.5499999999999999,
      "total_signals": 2189,
      "long_signals": 462,
      "short_signals": 1727,
      "signal_ratio": 0.12740076824583868,
      "accuracy": 0.63001978815039
    },
    {
      "threshold": 0.5999999999999999,
      "total_signals": 865,
      "long_signals": 322,
      "short_signals": 543,
      "signal_ratio": 0.05034338260970783,
      "accuracy": 0.639215458037481
    },
    {
      "threshold": 0.6499999999999999,
      "total_signals": 89,
      "long_signals": 73,
      "short_signals": 16,
      "signal_ratio": 0.005179839366779187,
      "accuracy": 0.6304853916889769
    },
    {
      "threshold": 0.7,
      "total_signals": 2,
      "long_signals": 2,
      "short_signals": 0,
      "signal_ratio": 0.00011640088464672332,
      "accuracy": 0.6287975788615994
    },
    {
      "threshold": 0.7499999999999999,
      "total_signals": 0,
      "long_signals": 0,
      "short_signals": 0,
      "signal_ratio": 0.0,
      "accuracy": 0.6287975788615994
    },
    {
      "threshold": 0.7999999999999998,
      "total_signals": 0,
      "long_signals": 0,
      "short_signals": 0,
      "signal_ratio": 0.0,
      "accuracy": 0.6287975788615994
    }
  ],
  "best_params": {
    "n_estimators": 103,
    "max_depth": 8,
    "min_samples_split": 30,
    "min_samples_leaf": 16,
    "thr_long": 0.5610192371463281,
    "thr_short": 0.6713607110664673,
    "min_confidence": 0.061245313832525114,
    "stop_mult": 1.0254828346070828,
    "take_mult": 1.8560489935454179,
    "trailing_mult": 0.5953437453248935,
    "breakeven_mult": 0.396086747982108
  },
  "config": {
    "session_config": {
      "prebuffer_min": 45,
      "session_len_min": 45,
      "volatility_window": 10,
      "zscore_window_days": 3,
      "volatility_threshold": 1.8,
      "cooldown_min": 30
    },
    "sim_config": {
      "commission": 0.001,
      "spread_pct": 0.0002,
      "risk_per_trade": 0.2,
      "max_position_pct": 0.5,
      "default_stop_pct": 0.005,
      "default_take_pct": 0.015,
      "max_hold_minutes": 30,
      "min_hold_bars": 3
    }
  }
}