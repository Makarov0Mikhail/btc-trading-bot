{
  "horizon": 30,
  "timestamp": "20251218_013532",
  "metrics": {
    "long_accuracy": 0.8176781002638522,
    "short_accuracy": 0.8530343007915567,
    "long_precision": 0.21122112211221122,
    "short_precision": 0.33962264150943394,
    "long_recall": 0.05302402651201325,
    "short_recall": 0.016408386508659983,
    "long_f1": 0.0847682119205298,
    "short_f1": 0.03130434782608696
  },
  "financial": {
    "pnl": -21.649043091353228,
    "sharpe": 35.48275215067601,
    "max_drawdown": 73.67723369343521
  },
  "feature_analysis": {
    "long_model": {
      "top_10_features": [
        {
          "feature": "atr_pct",
          "importance": 0.20542356258667943,
          "mutual_info": 0.006561771781378178,
          "abs_correlation": 0.02546590289724631
        },
        {
          "feature": "prev_candle_range",
          "importance": 0.1184647473602869,
          "mutual_info": 0.002838909768852149,
          "abs_correlation": 0.016699911903060548
        },
        {
          "feature": "macd_hist",
          "importance": 0.09980410485633055,
          "mutual_info": 0.0032134445195945993,
          "abs_correlation": 0.012052925604562321
        },
        {
          "feature": "log_return",
          "importance": 0.08283187887376299,
          "mutual_info": 0.004172892470616141,
          "abs_correlation": 0.002006678187986608
        },
        {
          "feature": "rsi_14",
          "importance": 0.07590069514049431,
          "mutual_info": 0.0,
          "abs_correlation": 0.00507045467903305
        },
        {
          "feature": "log_return_lag_1",
          "importance": 0.07329475317537233,
          "mutual_info": 0.0,
          "abs_correlation": 0.046166215183072824
        },
        {
          "feature": "volume_change_lag_1",
          "importance": 0.0627384833002044,
          "mutual_info": 0.0030622887825262346,
          "abs_correlation": 0.011876395636251957
        },
        {
          "feature": "volume_change",
          "importance": 0.0543253673718213,
          "mutual_info": 0.009472382780774558,
          "abs_correlation": 0.1157713090994973
        },
        {
          "feature": "log_return_lag_2",
          "importance": 0.05328133220139039,
          "mutual_info": 0.013702423291402033,
          "abs_correlation": 0.15518042521626296
        },
        {
          "feature": "prev_candle_body",
          "importance": 0.052589780058102636,
          "mutual_info": 0.0039061366757076055,
          "abs_correlation": 0.0249868868414742
        }
      ],
      "feature_importance_stats": {
        "max_importance": 0.20542356258667943,
        "min_importance": 0.020656706728995305,
        "mean_importance": 0.07692307692307694
      }
    },
    "short_model": {
      "top_10_features": [
        {
          "feature": "atr_pct",
          "importance": 0.1778840797744775,
          "mutual_info": 0.0,
          "abs_correlation": 0.005826563411245229
        },
        {
          "feature": "macd_hist",
          "importance": 0.10430449961869562,
          "mutual_info": 0.001024295826629107,
          "abs_correlation": 0.000693159807292163
        },
        {
          "feature": "rsi_14",
          "importance": 0.09357559835507788,
          "mutual_info": 0.0,
          "abs_correlation": 0.003011295055499559
        },
        {
          "feature": "prev_candle_range",
          "importance": 0.09089935542103399,
          "mutual_info": 0.0037700860112661605,
          "abs_correlation": 0.01976934797707861
        },
        {
          "feature": "hour_sin",
          "importance": 0.08254673749015462,
          "mutual_info": 0.00481061946911665,
          "abs_correlation": 0.03444874485644929
        },
        {
          "feature": "log_return",
          "importance": 0.06935742196882057,
          "mutual_info": 0.0006576398926820826,
          "abs_correlation": 0.032943861048858145
        },
        {
          "feature": "hour_cos",
          "importance": 0.06565232158438725,
          "mutual_info": 0.0,
          "abs_correlation": 0.0030628095485236836
        },
        {
          "feature": "log_return_lag_1",
          "importance": 0.06311903989560178,
          "mutual_info": 0.00381371187403845,
          "abs_correlation": 0.05942504922604221
        },
        {
          "feature": "volume_change_lag_1",
          "importance": 0.05954812874945332,
          "mutual_info": 0.00990610322593577,
          "abs_correlation": 0.08898147375484829
        },
        {
          "feature": "volume_change",
          "importance": 0.05562095600918532,
          "mutual_info": 0.0,
          "abs_correlation": 0.03615532656253421
        }
      ],
      "feature_importance_stats": {
        "max_importance": 0.1778840797744775,
        "min_importance": 0.02957094408759913,
        "mean_importance": 0.07692307692307691
      }
    }
  },
  "trades_detailed": {
    "summary": {
      "total_trades": 150,
      "winning_trades": 59,
      "losing_trades": 91,
      "win_rate": 0.3933333333333333,
      "avg_win_pct": 0.006105743768664063,
      "avg_loss_pct": -0.006785148220292495,
      "profit_factor": 0.3626269306008037,
      "largest_win_pct": 0.019004457043575895,
      "largest_loss_pct": -0.03773334438330267,
      "avg_holding_minutes": 155.13333333333333
    },
    "by_direction": {
      "long": {
        "total_trades": 121,
        "winning_trades": 46,
        "losing_trades": 75,
        "win_rate": 0.38016528925619836,
        "avg_win_pct": 0.006131010266791554,
        "avg_loss_pct": -0.006759185703695579,
        "profit_factor": 0.34405820218616917,
        "largest_win_pct": 0.019004457043575895,
        "largest_loss_pct": -0.03773334438330267,
        "avg_holding_minutes": 155.51239669421489
      },
      "short": {
        "total_trades": 29,
        "winning_trades": 13,
        "losing_trades": 16,
        "win_rate": 0.4482758620689655,
        "avg_win_pct": 0.006016339236828325,
        "avg_loss_pct": -0.006906847516840536,
        "profit_factor": 0.4508150735459476,
        "largest_win_pct": 0.01847103949493456,
        "largest_loss_pct": -0.026896273651907054,
        "avg_holding_minutes": 153.55172413793105
      },
      "total_trades": 150,
      "long_count": 121,
      "short_count": 29
    },
    "holding_time_stats": {
      "mean": 155.13333333333333,
      "median": 85.5,
      "min": 1.0,
      "max": 1554.0,
      "std": 237.98592862230788
    },
    "exit_reasons": {
      "STOP_LOSS": 63,
      "MAX_HOLD": 61,
      "TAKE_PROFIT": 26
    },
    "hourly_performance": {
      "6": {
        "avg_pnl": -31.88494172075617,
        "win_rate": 0.4,
        "total_trades": 5,
        "total_pnl": -159.42470860378086
      },
      "17": {
        "avg_pnl": -16.843879494839573,
        "win_rate": 0.25,
        "total_trades": 12,
        "total_pnl": -202.1265539380749
      },
      "13": {
        "avg_pnl": -5.941300715024397,
        "win_rate": 0.4444444444444444,
        "total_trades": 9,
        "total_pnl": -53.47170643521957
      },
      "0": {
        "avg_pnl": -29.42696073138036,
        "win_rate": 0.2857142857142857,
        "total_trades": 7,
        "total_pnl": -205.98872511966252
      },
      "16": {
        "avg_pnl": -12.045653194899062,
        "win_rate": 0.2857142857142857,
        "total_trades": 14,
        "total_pnl": -168.63914472858687
      },
      "2": {
        "avg_pnl": -42.16063038143632,
        "win_rate": 0.0,
        "total_trades": 7,
        "total_pnl": -295.12441267005426
      },
      "4": {
        "avg_pnl": -28.72664014632477,
        "win_rate": 0.0,
        "total_trades": 4,
        "total_pnl": -114.90656058529908
      },
      "9": {
        "avg_pnl": -2.927276209313466,
        "win_rate": 0.2,
        "total_trades": 5,
        "total_pnl": -14.63638104656733
      },
      "15": {
        "avg_pnl": -27.364785825843246,
        "win_rate": 0.3333333333333333,
        "total_trades": 15,
        "total_pnl": -410.4717873876487
      },
      "14": {
        "avg_pnl": -17.474481928848835,
        "win_rate": 0.4,
        "total_trades": 15,
        "total_pnl": -262.11722893273253
      },
      "3": {
        "avg_pnl": 12.891771165771113,
        "win_rate": 0.7142857142857143,
        "total_trades": 7,
        "total_pnl": 90.24239816039778
      },
      "7": {
        "avg_pnl": -1.0015513065665769,
        "win_rate": 0.3333333333333333,
        "total_trades": 3,
        "total_pnl": -3.004653919699731
      },
      "19": {
        "avg_pnl": -16.43583522681411,
        "win_rate": 0.3333333333333333,
        "total_trades": 9,
        "total_pnl": -147.92251704132698
      },
      "21": {
        "avg_pnl": -10.829972512822504,
        "win_rate": 0.4,
        "total_trades": 5,
        "total_pnl": -54.149862564112524
      },
      "11": {
        "avg_pnl": -1.1340342034401119,
        "win_rate": 0.3333333333333333,
        "total_trades": 3,
        "total_pnl": -3.402102610320336
      },
      "20": {
        "avg_pnl": -10.985865168459037,
        "win_rate": 0.5,
        "total_trades": 2,
        "total_pnl": -21.971730336918075
      },
      "18": {
        "avg_pnl": -15.374823717243498,
        "win_rate": 0.14285714285714285,
        "total_trades": 7,
        "total_pnl": -107.62376602070448
      },
      "8": {
        "avg_pnl": -39.719730379326414,
        "win_rate": 0.0,
        "total_trades": 4,
        "total_pnl": -158.87892151730566
      },
      "10": {
        "avg_pnl": 42.56651534442429,
        "win_rate": 1.0,
        "total_trades": 2,
        "total_pnl": 85.13303068884858
      },
      "5": {
        "avg_pnl": 2.534065338262336,
        "win_rate": 0.4,
        "total_trades": 5,
        "total_pnl": 12.67032669131168
      },
      "22": {
        "avg_pnl": 17.125286942482933,
        "win_rate": 1.0,
        "total_trades": 4,
        "total_pnl": 68.50114776993173
      },
      "1": {
        "avg_pnl": -2.1307360722585336,
        "win_rate": 0.3333333333333333,
        "total_trades": 3,
        "total_pnl": -6.3922082167756
      },
      "23": {
        "avg_pnl": -27.805383130523772,
        "win_rate": 0.0,
        "total_trades": 2,
        "total_pnl": -55.610766261047544
      },
      "12": {
        "avg_pnl": 24.412525490031655,
        "win_rate": 1.0,
        "total_trades": 1,
        "total_pnl": 24.412525490031655
      }
    },
    "confidence_quartiles": {
      "Q1": {
        "avg_pnl": -12.652003712824888,
        "win_rate": 0.3684210526315789,
        "avg_confidence": -0.03813350562555362,
        "trades": 38
      },
      "Q2": {
        "avg_pnl": -20.726759353726866,
        "win_rate": 0.2972972972972973,
        "avg_confidence": 0.04545537010688165,
        "trades": 37
      },
      "Q3": {
        "avg_pnl": -15.54759213456636,
        "win_rate": 0.35135135135135137,
        "avg_confidence": 0.06616459083937491,
        "trades": 37
      },
      "Q4": {
        "avg_pnl": -8.999399025818978,
        "win_rate": 0.34210526315789475,
        "avg_confidence": 0.12629183139124064,
        "trades": 38
      }
    }
  },
  "threshold_sensitivity": [
    {
      "threshold": 0.3,
      "total_signals": 450,
      "long_signals": 294,
      "short_signals": 156,
      "signal_ratio": 0.059366754617414245,
      "accuracy": 0.6543535620052771
    },
    {
      "threshold": 0.35,
      "total_signals": 1027,
      "long_signals": 544,
      "short_signals": 483,
      "signal_ratio": 0.13548812664907653,
      "accuracy": 0.6120052770448549
    },
    {
      "threshold": 0.39999999999999997,
      "total_signals": 1580,
      "long_signals": 482,
      "short_signals": 1098,
      "signal_ratio": 0.20844327176781002,
      "accuracy": 0.5881266490765171
    },
    {
      "threshold": 0.44999999999999996,
      "total_signals": 1467,
      "long_signals": 414,
      "short_signals": 1053,
      "signal_ratio": 0.19353562005277045,
      "accuracy": 0.6151715039577836
    },
    {
      "threshold": 0.49999999999999994,
      "total_signals": 777,
      "long_signals": 363,
      "short_signals": 414,
      "signal_ratio": 0.1025065963060686,
      "accuracy": 0.6782321899736148
    },
    {
      "threshold": 0.5499999999999999,
      "total_signals": 433,
      "long_signals": 196,
      "short_signals": 237,
      "signal_ratio": 0.05712401055408971,
      "accuracy": 0.6930079155672824
    },
    {
      "threshold": 0.5999999999999999,
      "total_signals": 290,
      "long_signals": 194,
      "short_signals": 96,
      "signal_ratio": 0.03825857519788918,
      "accuracy": 0.7068601583113456
    },
    {
      "threshold": 0.6499999999999999,
      "total_signals": 54,
      "long_signals": 47,
      "short_signals": 7,
      "signal_ratio": 0.00712401055408971,
      "accuracy": 0.6994722955145118
    },
    {
      "threshold": 0.7,
      "total_signals": 5,
      "long_signals": 5,
      "short_signals": 0,
      "signal_ratio": 0.0006596306068601583,
      "accuracy": 0.6964379947229552
    },
    {
      "threshold": 0.7499999999999999,
      "total_signals": 0,
      "long_signals": 0,
      "short_signals": 0,
      "signal_ratio": 0.0,
      "accuracy": 0.696042216358839
    },
    {
      "threshold": 0.7999999999999998,
      "total_signals": 0,
      "long_signals": 0,
      "short_signals": 0,
      "signal_ratio": 0.0,
      "accuracy": 0.696042216358839
    }
  ],
  "best_params": {
    "n_estimators": 153,
    "max_depth": 6,
    "min_samples_split": 37,
    "min_samples_leaf": 24,
    "thr_long": 0.5102166629118873,
    "thr_short": 0.5443240354286754,
    "min_confidence": 0.03425488398925823,
    "stop_mult": 1.2603646280826095,
    "take_mult": 1.1214906430173677,
    "trailing_mult": 0.5233995319570768,
    "breakeven_mult": 0.24938627232299515
  },
  "config": {
    "session_config": {
      "prebuffer_min": 45,
      "session_len_min": 45,
      "volatility_window": 10,
      "zscore_window_days": 3,
      "volatility_threshold": 1.8,
      "cooldown_min": 30
    },
    "sim_config": {
      "commission": 0.001,
      "spread_pct": 0.0002,
      "risk_per_trade": 0.2,
      "max_position_pct": 0.5,
      "default_stop_pct": 0.005,
      "default_take_pct": 0.015,
      "max_hold_minutes": 30,
      "min_hold_bars": 3
    }
  }
}