{
  "horizon": 30,
  "timestamp": "20251218_004424",
  "metrics": {
    "long_accuracy": 0.8339050131926121,
    "short_accuracy": 0.8517150395778365,
    "long_precision": 0.3194444444444444,
    "short_precision": 0.2786885245901639,
    "long_recall": 0.03811101905550953,
    "short_recall": 0.015496809480401094,
    "long_f1": 0.06809770540340489,
    "short_f1": 0.02936096718480138
  },
  "financial": {
    "pnl": 0.0,
    "sharpe": 0.0,
    "max_drawdown": 0.0
  },
  "feature_analysis": {
    "long_model": {
      "top_10_features": [
        {
          "feature": "atr_pct",
          "importance": 0.20542356258667943,
          "mutual_info": 0.006561771781378178,
          "abs_correlation": 0.02546590289724631
        },
        {
          "feature": "prev_candle_range",
          "importance": 0.1184647473602869,
          "mutual_info": 0.002838909768852149,
          "abs_correlation": 0.016699911903060548
        },
        {
          "feature": "macd_hist",
          "importance": 0.09980410485633055,
          "mutual_info": 0.0032134445195945993,
          "abs_correlation": 0.012052925604562321
        },
        {
          "feature": "log_return",
          "importance": 0.08283187887376299,
          "mutual_info": 0.004172892470616141,
          "abs_correlation": 0.002006678187986608
        },
        {
          "feature": "rsi_14",
          "importance": 0.07590069514049431,
          "mutual_info": 0.0,
          "abs_correlation": 0.00507045467903305
        },
        {
          "feature": "log_return_lag_1",
          "importance": 0.07329475317537233,
          "mutual_info": 0.0,
          "abs_correlation": 0.046166215183072824
        },
        {
          "feature": "volume_change_lag_1",
          "importance": 0.0627384833002044,
          "mutual_info": 0.0030622887825262346,
          "abs_correlation": 0.011876395636251957
        },
        {
          "feature": "volume_change",
          "importance": 0.0543253673718213,
          "mutual_info": 0.009472382780774558,
          "abs_correlation": 0.1157713090994973
        },
        {
          "feature": "log_return_lag_2",
          "importance": 0.05328133220139039,
          "mutual_info": 0.013702423291402033,
          "abs_correlation": 0.15518042521626296
        },
        {
          "feature": "prev_candle_body",
          "importance": 0.052589780058102636,
          "mutual_info": 0.0039061366757076055,
          "abs_correlation": 0.0249868868414742
        }
      ],
      "feature_importance_stats": {
        "max_importance": 0.20542356258667943,
        "min_importance": 0.020656706728995305,
        "mean_importance": 0.07692307692307694
      }
    },
    "short_model": {
      "top_10_features": [
        {
          "feature": "atr_pct",
          "importance": 0.1778840797744775,
          "mutual_info": 0.0,
          "abs_correlation": 0.005826563411245229
        },
        {
          "feature": "macd_hist",
          "importance": 0.10430449961869562,
          "mutual_info": 0.001024295826629107,
          "abs_correlation": 0.000693159807292163
        },
        {
          "feature": "rsi_14",
          "importance": 0.09357559835507788,
          "mutual_info": 0.0,
          "abs_correlation": 0.003011295055499559
        },
        {
          "feature": "prev_candle_range",
          "importance": 0.09089935542103399,
          "mutual_info": 0.0037700860112661605,
          "abs_correlation": 0.01976934797707861
        },
        {
          "feature": "hour_sin",
          "importance": 0.08254673749015462,
          "mutual_info": 0.00481061946911665,
          "abs_correlation": 0.03444874485644929
        },
        {
          "feature": "log_return",
          "importance": 0.06935742196882057,
          "mutual_info": 0.0006576398926820826,
          "abs_correlation": 0.032943861048858145
        },
        {
          "feature": "hour_cos",
          "importance": 0.06565232158438725,
          "mutual_info": 0.0,
          "abs_correlation": 0.0030628095485236836
        },
        {
          "feature": "log_return_lag_1",
          "importance": 0.06311903989560178,
          "mutual_info": 0.00381371187403845,
          "abs_correlation": 0.05942504922604221
        },
        {
          "feature": "volume_change_lag_1",
          "importance": 0.05954812874945332,
          "mutual_info": 0.00990610322593577,
          "abs_correlation": 0.08898147375484829
        },
        {
          "feature": "volume_change",
          "importance": 0.05562095600918532,
          "mutual_info": 0.0,
          "abs_correlation": 0.03615532656253421
        }
      ],
      "feature_importance_stats": {
        "max_importance": 0.1778840797744775,
        "min_importance": 0.02957094408759913,
        "mean_importance": 0.07692307692307691
      }
    }
  },
  "trades_detailed": {
    "error": "\u041d\u0435\u0442 \u0441\u0434\u0435\u043b\u043e\u043a"
  },
  "threshold_sensitivity": [
    {
      "threshold": 0.3,
      "total_signals": 1051,
      "long_signals": 784,
      "short_signals": 267,
      "signal_ratio": 0.13865435356200528,
      "accuracy": 0.6025065963060686
    },
    {
      "threshold": 0.35,
      "total_signals": 1656,
      "long_signals": 942,
      "short_signals": 714,
      "signal_ratio": 0.21846965699208443,
      "accuracy": 0.5744063324538259
    },
    {
      "threshold": 0.39999999999999997,
      "total_signals": 1880,
      "long_signals": 625,
      "short_signals": 1255,
      "signal_ratio": 0.24802110817941952,
      "accuracy": 0.575197889182058
    },
    {
      "threshold": 0.44999999999999996,
      "total_signals": 1597,
      "long_signals": 444,
      "short_signals": 1153,
      "signal_ratio": 0.21068601583113455,
      "accuracy": 0.6175461741424803
    },
    {
      "threshold": 0.49999999999999994,
      "total_signals": 979,
      "long_signals": 357,
      "short_signals": 622,
      "signal_ratio": 0.129155672823219,
      "accuracy": 0.6755936675461741
    },
    {
      "threshold": 0.5499999999999999,
      "total_signals": 516,
      "long_signals": 245,
      "short_signals": 271,
      "signal_ratio": 0.06807387862796833,
      "accuracy": 0.6899736147757256
    },
    {
      "threshold": 0.5999999999999999,
      "total_signals": 302,
      "long_signals": 184,
      "short_signals": 118,
      "signal_ratio": 0.039841688654353564,
      "accuracy": 0.7047493403693932
    },
    {
      "threshold": 0.6499999999999999,
      "total_signals": 85,
      "long_signals": 51,
      "short_signals": 34,
      "signal_ratio": 0.011213720316622692,
      "accuracy": 0.6993403693931398
    },
    {
      "threshold": 0.7,
      "total_signals": 11,
      "long_signals": 8,
      "short_signals": 3,
      "signal_ratio": 0.0014511873350923482,
      "accuracy": 0.696174142480211
    },
    {
      "threshold": 0.7499999999999999,
      "total_signals": 1,
      "long_signals": 1,
      "short_signals": 0,
      "signal_ratio": 0.00013192612137203166,
      "accuracy": 0.696174142480211
    },
    {
      "threshold": 0.7999999999999998,
      "total_signals": 0,
      "long_signals": 0,
      "short_signals": 0,
      "signal_ratio": 0.0,
      "accuracy": 0.696042216358839
    }
  ],
  "best_params": {
    "n_estimators": 150,
    "max_depth": 9,
    "min_samples_split": 34,
    "min_samples_leaf": 22,
    "thr_long": 0.6034664751640177,
    "thr_short": 0.616057720976028,
    "min_confidence": 0.04665367817183108,
    "stop_mult": 1.163470112283697,
    "take_mult": 1.0940488249722295,
    "trailing_mult": 0.5954324030745427,
    "breakeven_mult": 0.39515007731758145
  },
  "config": {
    "session_config": {
      "prebuffer_min": 45,
      "session_len_min": 45,
      "volatility_window": 10,
      "zscore_window_days": 3,
      "volatility_threshold": 1.8,
      "cooldown_min": 30
    },
    "sim_config": {
      "commission": 0.001,
      "spread_pct": 0.0002,
      "risk_per_trade": 1.0,
      "max_position_pct": 1.0,
      "default_stop_pct": 0.005,
      "default_take_pct": 0.015,
      "max_hold_minutes": 30,
      "min_hold_bars": 3
    }
  }
}