{
  "model": "Pipeline",
  "best_params": {
    "n_estimators": 131,
    "max_depth": 4,
    "min_samples_split": 58,
    "min_samples_leaf": 5,
    "max_features": "log2",
    "bootstrap": true,
    "sl_atr_mult": 1.2311466954005161,
    "tp_atr_mult": 2.8058836202182165,
    "max_hold_days": 14,
    "stop_loss_pct": 0.020149521698951085,
    "take_profit_pct": 0.03242446867260626,
    "min_trades_thr": 26,
    "proba_step": 0.008360637046601269,
    "ret_step": 0.001684504054933497,
    "ret_min": 0.006809036933788074,
    "ret_max": 0.01907485297955493,
    "atr_col": "atr_14",
    "bag_n_estimators": 30,
    "bag_max_samples": 0.7890389531259557,
    "bag_max_features": 0.999815785417125,
    "logreg_C": 2.228725239046878,
    "weight_pnl": 0.5470340330257973,
    "pnl_scale": 30.759227255165527
  },
  "rf_params": {
    "n_estimators": 131,
    "max_depth": 4,
    "min_samples_split": 58,
    "min_samples_leaf": 5,
    "max_features": "log2",
    "bootstrap": true,
    "random_state": 42,
    "n_jobs": -1,
    "class_weight": "balanced"
  },
  "trade_params": {
    "stop_loss": 0.03,
    "take_profit": 0.05,
    "max_hold_days": 14,
    "atr_col": "atr_14",
    "sl_atr_mult": 1.2311466954005161,
    "tp_atr_mult": 2.8058836202182165
  },
  "features_used": [
    "returns",
    "log_returns",
    "sma_ratio",
    "logret_std_1",
    "logret_std_7",
    "logret_std_14",
    "logret_std_21",
    "logret_std_28",
    "logret_skew_14",
    "logret_kurt_14",
    "atr_14",
    "atr_pct",
    "atr_pct_7",
    "atr_pct_21",
    "range_pct",
    "range_vol_14",
    "body_pct",
    "upper_wick_pct",
    "lower_wick_pct",
    "logret_mean_7",
    "logret_cum_7",
    "hour_sin",
    "hour_cos"
  ],
  "target_horizon": 24,
  "metrics": {
    "train": {
      "train_accuracy": 0.6692526197694125,
      "train_precision": 0.5010665529010239,
      "train_recall": 0.5074895578280282,
      "train_f1": 0.5042576028622541,
      "train_roc_auc": 0.6956297540087932
    },
    "validation": {
      "val_best_accuracy": 0.7256389776357828,
      "val_best_precision": 0.3333333333333333,
      "val_best_recall": 0.025373134328358207,
      "val_best_f1": 0.047156726768377254,
      "val_best_roc_auc": 0.5716621364280018
    },
    "test": {
      "test_accuracy": 0.7300319488817891,
      "test_precision": 0.4838709677419355,
      "test_recall": 0.022222222222222223,
      "test_f1": 0.042492917847025496,
      "test_roc_auc": 0.43869509750318936
    }
  },
  "trading_results": {
    "pnl_test": -6.471170164320594,
    "final_capital": 9352.88298356794,
    "num_trades": 25,
    "max_drawdown": 6.798829908531588
  },
  "horizon_analysis": [
    {
      "horizon": 6,
      "f1": 0.3021451392058421,
      "accuracy": 0.6946884984025559,
      "pnl": -37.88852997603628,
      "trades": 199
    },
    {
      "horizon": 12,
      "f1": 0.2889487870619946,
      "accuracy": 0.7366214057507987,
      "pnl": -22.07792762850015,
      "trades": 121
    },
    {
      "horizon": 24,
      "f1": 0.2692307692307692,
      "accuracy": 0.6661341853035144,
      "pnl": -29.97686677386584,
      "trades": 140
    }
  ],
  "metadata": {
    "created_date": "2025-12-11T13:32:02.318971",
    "phase": 2,
    "data_version": "2025-12-11T01:51:31.657818"
  }
}