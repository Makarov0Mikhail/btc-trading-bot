{
  "horizon": 15,
  "timestamp": "20251218_004056",
  "metrics": {
    "long_accuracy": 0.8489851150202977,
    "short_accuracy": 0.8579837618403248,
    "long_precision": 0.36038961038961037,
    "short_precision": 0.5,
    "long_recall": 0.05172413793103448,
    "short_recall": 0.0014292520247737017,
    "long_f1": 0.09046454767726161,
    "short_f1": 0.0028503562945368173
  },
  "financial": {
    "pnl": 0.0,
    "sharpe": 0.0,
    "max_drawdown": 0.0
  },
  "feature_analysis": {
    "long_model": {
      "top_10_features": [
        {
          "feature": "atr_pct",
          "importance": 0.2870319835316739,
          "mutual_info": 0.006847707063031727,
          "abs_correlation": 0.023735262516078187
        },
        {
          "feature": "prev_candle_range",
          "importance": 0.14615303015695766,
          "mutual_info": 0.0059791501827102245,
          "abs_correlation": 0.019551936283263665
        },
        {
          "feature": "log_return",
          "importance": 0.08170504035750623,
          "mutual_info": 0.0067979205955635,
          "abs_correlation": 0.01773014041611684
        },
        {
          "feature": "macd_hist",
          "importance": 0.08082496434910938,
          "mutual_info": 0.0,
          "abs_correlation": 0.016323330226594747
        },
        {
          "feature": "log_return_lag_1",
          "importance": 0.07648599510695268,
          "mutual_info": 0.0004504745749982497,
          "abs_correlation": 0.0023432960029551187
        },
        {
          "feature": "rsi_14",
          "importance": 0.057628775135323655,
          "mutual_info": 0.0003871041704792688,
          "abs_correlation": 0.03685416733842849
        },
        {
          "feature": "volume_change_lag_1",
          "importance": 0.04952073799152869,
          "mutual_info": 0.006793328912484631,
          "abs_correlation": 0.0175271903051269
        },
        {
          "feature": "volume_change",
          "importance": 0.04827954230552308,
          "mutual_info": 0.011312795397167452,
          "abs_correlation": 0.13456756458384408
        },
        {
          "feature": "prev_candle_body",
          "importance": 0.04776620661416837,
          "mutual_info": 0.023240954394492697,
          "abs_correlation": 0.18583830594453596
        },
        {
          "feature": "log_return_lag_2",
          "importance": 0.047755208604300804,
          "mutual_info": 0.002605549715189559,
          "abs_correlation": 0.03604354412282884
        }
      ],
      "feature_importance_stats": {
        "max_importance": 0.2870319835316739,
        "min_importance": 0.008585972911623937,
        "mean_importance": 0.07692307692307694
      }
    },
    "short_model": {
      "top_10_features": [
        {
          "feature": "atr_pct",
          "importance": 0.23048122096663104,
          "mutual_info": 0.0027650972456987333,
          "abs_correlation": 0.013825149762860318
        },
        {
          "feature": "prev_candle_range",
          "importance": 0.11344076131479432,
          "mutual_info": 0.002312994084430642,
          "abs_correlation": 0.014178606720437682
        },
        {
          "feature": "macd_hist",
          "importance": 0.0949673541891973,
          "mutual_info": 0.00026159278668580477,
          "abs_correlation": 0.010709684562613573
        },
        {
          "feature": "rsi_14",
          "importance": 0.07734094249039913,
          "mutual_info": 0.0023156236503334426,
          "abs_correlation": 0.03627178075543437
        },
        {
          "feature": "log_return_lag_1",
          "importance": 0.07214847776269631,
          "mutual_info": 0.0003847306770488057,
          "abs_correlation": 0.02512950235997667
        },
        {
          "feature": "hour_sin",
          "importance": 0.07054181893957105,
          "mutual_info": 0.0,
          "abs_correlation": 0.01997639702800051
        },
        {
          "feature": "log_return",
          "importance": 0.06536523917070845,
          "mutual_info": 0.00016937837577435388,
          "abs_correlation": 0.010849411935739317
        },
        {
          "feature": "volume_change_lag_1",
          "importance": 0.061456034404331554,
          "mutual_info": 0.008594230551675519,
          "abs_correlation": 0.0851440055465387
        },
        {
          "feature": "prev_candle_body",
          "importance": 0.051101027861923096,
          "mutual_info": 0.010899081896031504,
          "abs_correlation": 0.11019698436232978
        },
        {
          "feature": "volume_change",
          "importance": 0.05094736012780926,
          "mutual_info": 0.002623836629083831,
          "abs_correlation": 0.01894983190218393
        }
      ],
      "feature_importance_stats": {
        "max_importance": 0.23048122096663104,
        "min_importance": 0.014338427999795612,
        "mean_importance": 0.07692307692307691
      }
    }
  },
  "trades_detailed": {
    "error": "\u041d\u0435\u0442 \u0441\u0434\u0435\u043b\u043e\u043a"
  },
  "threshold_sensitivity": [
    {
      "threshold": 0.3,
      "total_signals": 2639,
      "long_signals": 859,
      "short_signals": 1780,
      "signal_ratio": 0.17855209742895806,
      "accuracy": 0.5855209742895805
    },
    {
      "threshold": 0.35,
      "total_signals": 3274,
      "long_signals": 709,
      "short_signals": 2565,
      "signal_ratio": 0.22151556156968877,
      "accuracy": 0.5748985115020298
    },
    {
      "threshold": 0.39999999999999997,
      "total_signals": 3422,
      "long_signals": 831,
      "short_signals": 2591,
      "signal_ratio": 0.23152909336941813,
      "accuracy": 0.5993910690121786
    },
    {
      "threshold": 0.44999999999999996,
      "total_signals": 2705,
      "long_signals": 1026,
      "short_signals": 1679,
      "signal_ratio": 0.18301759133964818,
      "accuracy": 0.6414073071718539
    },
    {
      "threshold": 0.49999999999999994,
      "total_signals": 1877,
      "long_signals": 688,
      "short_signals": 1189,
      "signal_ratio": 0.1269959404600812,
      "accuracy": 0.6821380243572395
    },
    {
      "threshold": 0.5499999999999999,
      "total_signals": 1338,
      "long_signals": 580,
      "short_signals": 758,
      "signal_ratio": 0.09052774018944519,
      "accuracy": 0.704127198917456
    },
    {
      "threshold": 0.5999999999999999,
      "total_signals": 744,
      "long_signals": 504,
      "short_signals": 240,
      "signal_ratio": 0.0503382949932341,
      "accuracy": 0.7156292286874154
    },
    {
      "threshold": 0.6499999999999999,
      "total_signals": 213,
      "long_signals": 180,
      "short_signals": 33,
      "signal_ratio": 0.014411366711772665,
      "accuracy": 0.7167794316644114
    },
    {
      "threshold": 0.7,
      "total_signals": 31,
      "long_signals": 30,
      "short_signals": 1,
      "signal_ratio": 0.002097428958051421,
      "accuracy": 0.713125845737483
    },
    {
      "threshold": 0.7499999999999999,
      "total_signals": 2,
      "long_signals": 2,
      "short_signals": 0,
      "signal_ratio": 0.00013531799729364006,
      "accuracy": 0.7129228687415426
    },
    {
      "threshold": 0.7999999999999998,
      "total_signals": 1,
      "long_signals": 1,
      "short_signals": 0,
      "signal_ratio": 6.765899864682003e-05,
      "accuracy": 0.7128552097428958
    }
  ],
  "best_params": {
    "n_estimators": 98,
    "max_depth": 10,
    "min_samples_split": 25,
    "min_samples_leaf": 14,
    "thr_long": 0.576376073345554,
    "thr_short": 0.6644274704932794,
    "min_confidence": 0.07487097528326743,
    "stop_mult": 1.2459125040672,
    "take_mult": 0.9906132730735813,
    "trailing_mult": 0.5828747726592318,
    "breakeven_mult": 0.392135681446641
  },
  "config": {
    "session_config": {
      "prebuffer_min": 45,
      "session_len_min": 45,
      "volatility_window": 10,
      "zscore_window_days": 3,
      "volatility_threshold": 1.8,
      "cooldown_min": 30
    },
    "sim_config": {
      "commission": 0.001,
      "spread_pct": 0.0002,
      "risk_per_trade": 1.0,
      "max_position_pct": 1.0,
      "default_stop_pct": 0.005,
      "default_take_pct": 0.015,
      "max_hold_minutes": 30,
      "min_hold_bars": 3
    }
  }
}