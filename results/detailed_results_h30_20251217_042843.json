{
  "horizon": 30,
  "timestamp": "20251217_042843",
  "metrics": {
    "long_accuracy": 0.5017059553349876,
    "short_accuracy": 1.0,
    "long_precision": 0.48284960422163586,
    "short_precision": 0.0,
    "long_recall": 0.0571875,
    "short_recall": 0.0,
    "long_f1": 0.10226320201173512,
    "short_f1": 0.0
  },
  "financial": {
    "pnl": -99.84242638941846,
    "sharpe": -18.630350108275643,
    "max_drawdown": 99.85817778336123
  },
  "feature_analysis": {
    "long_model": {
      "top_10_features": [
        {
          "feature": "rsi_14",
          "importance": 0.08578854742441212,
          "mutual_info": 0.0,
          "abs_correlation": 0.0016878136983793277
        },
        {
          "feature": "sma_14",
          "importance": 0.07683410982428233,
          "mutual_info": 0.002519000284758599,
          "abs_correlation": 0.014797678838352575
        },
        {
          "feature": "sma_7",
          "importance": 0.07638453835576689,
          "mutual_info": 0.004118907613553935,
          "abs_correlation": 0.0333535205290492
        },
        {
          "feature": "logret_std_14",
          "importance": 0.07096013185275649,
          "mutual_info": 0.0,
          "abs_correlation": 0.011208774292202647
        },
        {
          "feature": "logret_std_21",
          "importance": 0.06747136518287755,
          "mutual_info": 0.0029669291252014673,
          "abs_correlation": 0.012578689809300615
        },
        {
          "feature": "log_return_lag_2",
          "importance": 0.06584050058283589,
          "mutual_info": 0.0,
          "abs_correlation": 0.0002756918954469471
        },
        {
          "feature": "prev_candle_body",
          "importance": 0.0657443961814508,
          "mutual_info": 0.00040911808203358824,
          "abs_correlation": 0.03983249827057406
        },
        {
          "feature": "macd_hist",
          "importance": 0.06306178081171981,
          "mutual_info": 0.0,
          "abs_correlation": 0.02504871707175461
        },
        {
          "feature": "atr_pct",
          "importance": 0.06145766873329332,
          "mutual_info": 0.019807607764927404,
          "abs_correlation": 0.010000738319246534
        },
        {
          "feature": "log_return",
          "importance": 0.06061970651858143,
          "mutual_info": 0.037552635990079075,
          "abs_correlation": 0.009902471607337263
        }
      ],
      "feature_importance_stats": {
        "max_importance": 0.08578854742441212,
        "min_importance": 0.0080609301419669,
        "mean_importance": 0.058823529411764705
      }
    },
    "short_model": {
      "top_10_features": [
        {
          "feature": "log_return",
          "importance": 0.0,
          "mutual_info": 0.0,
          "abs_correlation": NaN
        },
        {
          "feature": "log_return_lag_1",
          "importance": 0.0,
          "mutual_info": 0.0,
          "abs_correlation": NaN
        },
        {
          "feature": "log_return_lag_2",
          "importance": 0.0,
          "mutual_info": 0.0,
          "abs_correlation": NaN
        },
        {
          "feature": "logret_std_14",
          "importance": 0.0,
          "mutual_info": 0.0,
          "abs_correlation": NaN
        },
        {
          "feature": "logret_std_21",
          "importance": 0.0,
          "mutual_info": 0.0,
          "abs_correlation": NaN
        },
        {
          "feature": "atr_pct",
          "importance": 0.0,
          "mutual_info": 0.0,
          "abs_correlation": NaN
        },
        {
          "feature": "rsi_14",
          "importance": 0.0,
          "mutual_info": 0.0,
          "abs_correlation": NaN
        },
        {
          "feature": "macd_hist",
          "importance": 0.0,
          "mutual_info": 0.0,
          "abs_correlation": NaN
        },
        {
          "feature": "sma_7",
          "importance": 0.0,
          "mutual_info": 0.0,
          "abs_correlation": NaN
        },
        {
          "feature": "sma_14",
          "importance": 0.0,
          "mutual_info": 0.0,
          "abs_correlation": NaN
        }
      ],
      "feature_importance_stats": {
        "max_importance": 0.0,
        "min_importance": 0.0,
        "mean_importance": 0.0
      }
    }
  },
  "trades_detailed": {
    "summary": {
      "total_trades": 131,
      "winning_trades": 51,
      "losing_trades": 80,
      "win_rate": 0.3893129770992366,
      "avg_win_pct": 0.0033606949783702026,
      "avg_loss_pct": -0.002346179758369024,
      "profit_factor": 0.2829627626079474,
      "largest_win_pct": 0.041528326943587324,
      "largest_loss_pct": -0.011712959355232644,
      "avg_holding_minutes": 42.56488549618321
    },
    "by_direction": {
      "long": {
        "total_trades": 131,
        "winning_trades": 51,
        "losing_trades": 80,
        "win_rate": 0.3893129770992366,
        "avg_win_pct": 0.0033606949783702026,
        "avg_loss_pct": -0.002346179758369024,
        "profit_factor": 0.2829627626079474,
        "largest_win_pct": 0.041528326943587324,
        "largest_loss_pct": -0.011712959355232644,
        "avg_holding_minutes": 42.56488549618321
      },
      "short": {
        "total_trades": 0,
        "winning_trades": 0,
        "losing_trades": 0,
        "win_rate": 0,
        "avg_win_pct": 0,
        "avg_loss_pct": 0,
        "profit_factor": 0,
        "largest_win_pct": 0,
        "largest_loss_pct": 0,
        "avg_holding_minutes": 0
      },
      "total_trades": 131,
      "long_count": 131,
      "short_count": 0
    },
    "holding_time_stats": {
      "mean": 42.56488549618321,
      "median": 3.0,
      "min": 2.0,
      "max": 1087.0,
      "std": 153.2834075879734
    },
    "exit_reasons": {
      "MODEL_EXIT": 123,
      "TAKE_PROFIT": 2,
      "STOP_LOSS": 6
    },
    "hourly_performance": {
      "4": {
        "avg_pnl": 0.8166773427190878,
        "win_rate": 0.5,
        "total_trades": 6,
        "total_pnl": 4.900064056314527
      },
      "17": {
        "avg_pnl": -0.49531979197736586,
        "win_rate": 0.3333333333333333,
        "total_trades": 9,
        "total_pnl": -4.457878127796293
      },
      "6": {
        "avg_pnl": -0.3903373357281715,
        "win_rate": 0.14285714285714285,
        "total_trades": 7,
        "total_pnl": -2.7323613500972
      },
      "19": {
        "avg_pnl": -0.3906946267546871,
        "win_rate": 0.0,
        "total_trades": 9,
        "total_pnl": -3.5162516407921838
      },
      "20": {
        "avg_pnl": -0.24555890787165593,
        "win_rate": 0.2857142857142857,
        "total_trades": 7,
        "total_pnl": -1.7189123551015915
      },
      "18": {
        "avg_pnl": -0.13715169910597444,
        "win_rate": 0.16666666666666666,
        "total_trades": 6,
        "total_pnl": -0.8229101946358467
      },
      "21": {
        "avg_pnl": -0.21588106385992079,
        "win_rate": 0.0,
        "total_trades": 4,
        "total_pnl": -0.8635242554396831
      },
      "22": {
        "avg_pnl": -0.2108047285810303,
        "win_rate": 0.125,
        "total_trades": 8,
        "total_pnl": -1.6864378286482424
      },
      "13": {
        "avg_pnl": -0.07671059108775147,
        "win_rate": 0.4,
        "total_trades": 5,
        "total_pnl": -0.38355295543875734
      },
      "16": {
        "avg_pnl": -0.1398655210749227,
        "win_rate": 0.25,
        "total_trades": 8,
        "total_pnl": -1.1189241685993816
      },
      "2": {
        "avg_pnl": -0.7179792385607698,
        "win_rate": 0.0,
        "total_trades": 3,
        "total_pnl": -2.1539377156823094
      },
      "9": {
        "avg_pnl": -0.12700126693738992,
        "win_rate": 0.42857142857142855,
        "total_trades": 7,
        "total_pnl": -0.8890088685617293
      },
      "0": {
        "avg_pnl": -0.22874926740259385,
        "win_rate": 0.2857142857142857,
        "total_trades": 7,
        "total_pnl": -1.601244871818157
      },
      "15": {
        "avg_pnl": -0.06800931908455334,
        "win_rate": 0.15384615384615385,
        "total_trades": 13,
        "total_pnl": -0.8841211480991933
      },
      "14": {
        "avg_pnl": -0.15627379444700534,
        "win_rate": 0.14285714285714285,
        "total_trades": 7,
        "total_pnl": -1.0939165611290373
      },
      "1": {
        "avg_pnl": -0.13625669993695583,
        "win_rate": 0.0,
        "total_trades": 5,
        "total_pnl": -0.6812834996847791
      },
      "7": {
        "avg_pnl": -0.12928868462408113,
        "win_rate": 0.2,
        "total_trades": 5,
        "total_pnl": -0.6464434231204057
      },
      "3": {
        "avg_pnl": -0.033658294423882136,
        "win_rate": 0.16666666666666666,
        "total_trades": 6,
        "total_pnl": -0.2019497665432928
      },
      "11": {
        "avg_pnl": 0.03726845987248662,
        "win_rate": 1.0,
        "total_trades": 2,
        "total_pnl": 0.07453691974497324
      },
      "8": {
        "avg_pnl": -0.04303417042557496,
        "win_rate": 0.5,
        "total_trades": 2,
        "total_pnl": -0.08606834085114992
      },
      "12": {
        "avg_pnl": -0.06365031604345608,
        "win_rate": 0.5,
        "total_trades": 2,
        "total_pnl": -0.12730063208691217
      },
      "5": {
        "avg_pnl": -0.10907998236436033,
        "win_rate": 0.0,
        "total_trades": 2,
        "total_pnl": -0.21815996472872065
      },
      "10": {
        "avg_pnl": -0.014629720926516808,
        "win_rate": 0.0,
        "total_trades": 1,
        "total_pnl": -0.014629720926516808
      }
    },
    "confidence_quartiles": {
      "Q1": {
        "avg_pnl": -0.2660449284689473,
        "win_rate": 0.15151515151515152,
        "avg_confidence": 0.5651315038739881,
        "trades": 33
      },
      "Q2": {
        "avg_pnl": -0.13286296367041486,
        "win_rate": 0.18181818181818182,
        "avg_confidence": 0.5714474778376136,
        "trades": 33
      },
      "Q3": {
        "avg_pnl": 0.08749982933562338,
        "win_rate": 0.25,
        "avg_confidence": 0.5808062981919788,
        "trades": 32
      },
      "Q4": {
        "avg_pnl": -0.32000759126857214,
        "win_rate": 0.30303030303030304,
        "avg_confidence": 0.627375438855736,
        "trades": 33
      }
    }
  },
  "threshold_sensitivity": [
    {
      "threshold": 0.3,
      "total_signals": 6448,
      "long_signals": 6448,
      "short_signals": 0,
      "signal_ratio": 1.0,
      "accuracy": 0.49627791563275436
    },
    {
      "threshold": 0.35,
      "total_signals": 6448,
      "long_signals": 6448,
      "short_signals": 0,
      "signal_ratio": 1.0,
      "accuracy": 0.49627791563275436
    },
    {
      "threshold": 0.39999999999999997,
      "total_signals": 6424,
      "long_signals": 6424,
      "short_signals": 0,
      "signal_ratio": 0.9962779156327544,
      "accuracy": 0.4968982630272953
    },
    {
      "threshold": 0.44999999999999996,
      "total_signals": 6033,
      "long_signals": 6033,
      "short_signals": 0,
      "signal_ratio": 0.9356389578163772,
      "accuracy": 0.49953473945409427
    },
    {
      "threshold": 0.49999999999999994,
      "total_signals": 3524,
      "long_signals": 3524,
      "short_signals": 0,
      "signal_ratio": 0.5465260545905707,
      "accuracy": 0.511166253101737
    },
    {
      "threshold": 0.5499999999999999,
      "total_signals": 652,
      "long_signals": 652,
      "short_signals": 0,
      "signal_ratio": 0.1011166253101737,
      "accuracy": 0.5037220843672456
    },
    {
      "threshold": 0.5999999999999999,
      "total_signals": 134,
      "long_signals": 134,
      "short_signals": 0,
      "signal_ratio": 0.020781637717121586,
      "accuracy": 0.5012406947890818
    },
    {
      "threshold": 0.6499999999999999,
      "total_signals": 55,
      "long_signals": 55,
      "short_signals": 0,
      "signal_ratio": 0.008529776674937966,
      "accuracy": 0.5017059553349876
    },
    {
      "threshold": 0.7,
      "total_signals": 22,
      "long_signals": 22,
      "short_signals": 0,
      "signal_ratio": 0.003411910669975186,
      "accuracy": 0.5037220843672456
    },
    {
      "threshold": 0.7499999999999999,
      "total_signals": 11,
      "long_signals": 11,
      "short_signals": 0,
      "signal_ratio": 0.001705955334987593,
      "accuracy": 0.50325682382134
    },
    {
      "threshold": 0.7999999999999998,
      "total_signals": 0,
      "long_signals": 0,
      "short_signals": 0,
      "signal_ratio": 0.0,
      "accuracy": 0.5037220843672456
    }
  ],
  "best_params": {
    "n_estimators": 79,
    "max_depth": 14,
    "min_samples_split": 26,
    "min_samples_leaf": 23,
    "thr_long": 0.562785890199447,
    "thr_short": 0.6435539598829038,
    "stop_mult": 1.141039078793996,
    "take_mult": 2.058809268249659
  },
  "config": {
    "session_config": {
      "prebuffer_min": 45,
      "session_len_min": 45,
      "volatility_window": 10,
      "zscore_window_days": 3,
      "volatility_threshold": 1.8,
      "cooldown_min": 30
    },
    "sim_config": {
      "commission": 0.0007,
      "spread_pct": 0.0002,
      "risk_per_trade": 0.02,
      "max_position_pct": 0.1,
      "default_stop_pct": 0.005,
      "default_take_pct": 0.015,
      "max_hold_minutes": 30,
      "min_hold_bars": 3
    }
  }
}