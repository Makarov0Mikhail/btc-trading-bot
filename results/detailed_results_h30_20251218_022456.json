{
  "horizon": 30,
  "timestamp": "20251218_022456",
  "metrics": {
    "long_accuracy": 0.8408970976253298,
    "short_accuracy": 0.8552770448548813,
    "long_precision": 0.5217391304347826,
    "short_precision": 0.0,
    "long_recall": 0.009942004971002486,
    "short_recall": 0.0,
    "long_f1": 0.01951219512195122,
    "short_f1": 0.0
  },
  "financial": {
    "pnl": -0.23397951752769375,
    "sharpe": 11.573447490237234,
    "max_drawdown": 50.631352354669566
  },
  "feature_analysis": {
    "long_model": {
      "top_10_features": [
        {
          "feature": "atr_pct",
          "importance": 0.22300777566986812,
          "mutual_info": 0.006464316127861913,
          "abs_correlation": 0.02546590289724631
        },
        {
          "feature": "macd_hist",
          "importance": 0.12405698539801667,
          "mutual_info": 0.002709821434887738,
          "abs_correlation": 0.016699911903060548
        },
        {
          "feature": "log_return",
          "importance": 0.10157028537346983,
          "mutual_info": 0.0030599678934644103,
          "abs_correlation": 0.012052925604562321
        },
        {
          "feature": "log_return_lag_1",
          "importance": 0.08639712241066169,
          "mutual_info": 0.0,
          "abs_correlation": 0.002006678187986608
        },
        {
          "feature": "rsi_14",
          "importance": 0.08632811950388795,
          "mutual_info": 0.002596711582329103,
          "abs_correlation": 0.00507045467903305
        },
        {
          "feature": "prev_candle_body",
          "importance": 0.06435580646337939,
          "mutual_info": 0.0017902460888223892,
          "abs_correlation": 0.046166215183072824
        },
        {
          "feature": "log_return_lag_2",
          "importance": 0.06432221760015627,
          "mutual_info": 0.0032513390476409665,
          "abs_correlation": 0.011876395636251957
        },
        {
          "feature": "volume_change_lag_1",
          "importance": 0.060556526359860745,
          "mutual_info": 0.013702306776049777,
          "abs_correlation": 0.15518042521626296
        },
        {
          "feature": "volume_change",
          "importance": 0.060464438541286525,
          "mutual_info": 0.0038785498129729756,
          "abs_correlation": 0.0249868868414742
        },
        {
          "feature": "hour_sin",
          "importance": 0.05622332650249454,
          "mutual_info": 0.008591270012157315,
          "abs_correlation": 0.03313540844181375
        }
      ],
      "feature_importance_stats": {
        "max_importance": 0.22300777566986812,
        "min_importance": 0.021103275947692214,
        "mean_importance": 0.08333333333333333
      }
    },
    "short_model": {
      "top_10_features": [
        {
          "feature": "atr_pct",
          "importance": 0.20420856076685087,
          "mutual_info": 0.0,
          "abs_correlation": 0.005826563411245229
        },
        {
          "feature": "macd_hist",
          "importance": 0.11547384185040548,
          "mutual_info": 0.0011613230427764965,
          "abs_correlation": 0.000693159807292163
        },
        {
          "feature": "rsi_14",
          "importance": 0.09868047205922392,
          "mutual_info": 0.0,
          "abs_correlation": 0.003011295055499559
        },
        {
          "feature": "hour_sin",
          "importance": 0.09049858799913596,
          "mutual_info": 0.002917734495973212,
          "abs_correlation": 0.01976934797707861
        },
        {
          "feature": "hour_cos",
          "importance": 0.07768315553171139,
          "mutual_info": 0.0037533722297409255,
          "abs_correlation": 0.03444874485644929
        },
        {
          "feature": "log_return",
          "importance": 0.07206506518318018,
          "mutual_info": 0.0005910278080676346,
          "abs_correlation": 0.032943861048858145
        },
        {
          "feature": "log_return_lag_1",
          "importance": 0.06967665828486339,
          "mutual_info": 0.0,
          "abs_correlation": 0.0030628095485236836
        },
        {
          "feature": "volume_change_lag_1",
          "importance": 0.06172918947651021,
          "mutual_info": 0.00990610322593577,
          "abs_correlation": 0.08898147375484829
        },
        {
          "feature": "volume_change",
          "importance": 0.06034188786895452,
          "mutual_info": 0.0,
          "abs_correlation": 0.03615532656253421
        },
        {
          "feature": "log_return_lag_2",
          "importance": 0.06008499571833704,
          "mutual_info": 0.0009281645681553652,
          "abs_correlation": 0.021385247767694487
        }
      ],
      "feature_importance_stats": {
        "max_importance": 0.20420856076685087,
        "min_importance": 0.03146157339764333,
        "mean_importance": 0.08333333333333336
      }
    }
  },
  "trades_detailed": {
    "summary": {
      "total_trades": 14,
      "winning_trades": 8,
      "losing_trades": 6,
      "win_rate": 0.5714285714285714,
      "avg_win_pct": 0.008064828690502596,
      "avg_loss_pct": -0.007983517923553876,
      "profit_factor": 0.918209080377453,
      "largest_win_pct": 0.013151360895038433,
      "largest_loss_pct": -0.021414825443988095,
      "avg_holding_minutes": 128.71428571428572
    },
    "by_direction": {
      "long": {
        "total_trades": 14,
        "winning_trades": 8,
        "losing_trades": 6,
        "win_rate": 0.5714285714285714,
        "avg_win_pct": 0.008064828690502596,
        "avg_loss_pct": -0.007983517923553876,
        "profit_factor": 0.918209080377453,
        "largest_win_pct": 0.013151360895038433,
        "largest_loss_pct": -0.021414825443988095,
        "avg_holding_minutes": 128.71428571428572
      },
      "short": {
        "total_trades": 0,
        "winning_trades": 0,
        "losing_trades": 0,
        "win_rate": 0,
        "avg_win_pct": 0,
        "avg_loss_pct": 0,
        "profit_factor": 0,
        "largest_win_pct": 0,
        "largest_loss_pct": 0,
        "avg_holding_minutes": 0
      },
      "total_trades": 14,
      "long_count": 14,
      "short_count": 0
    },
    "holding_time_stats": {
      "mean": 128.71428571428572,
      "median": 83.0,
      "min": 1.0,
      "max": 591.0,
      "std": 167.14810736564854
    },
    "exit_reasons": {
      "MAX_HOLD": 4,
      "TAKE_PROFIT": 5,
      "STOP_LOSS": 5
    },
    "hourly_performance": {
      "6": {
        "avg_pnl": 39.43367129028532,
        "win_rate": 1.0,
        "total_trades": 2,
        "total_pnl": 78.86734258057064
      },
      "17": {
        "avg_pnl": 36.62927135199661,
        "win_rate": 1.0,
        "total_trades": 2,
        "total_pnl": 73.25854270399321
      },
      "9": {
        "avg_pnl": -3.196459086698775,
        "win_rate": 0.5,
        "total_trades": 2,
        "total_pnl": -6.39291817339755
      },
      "3": {
        "avg_pnl": 30.532586158187854,
        "win_rate": 1.0,
        "total_trades": 1,
        "total_pnl": 30.532586158187854
      },
      "4": {
        "avg_pnl": -38.179055296679095,
        "win_rate": 0.0,
        "total_trades": 3,
        "total_pnl": -114.53716589003729
      },
      "7": {
        "avg_pnl": 33.01139842937787,
        "win_rate": 1.0,
        "total_trades": 1,
        "total_pnl": 33.01139842937787
      },
      "0": {
        "avg_pnl": -115.57278346128295,
        "win_rate": 0.0,
        "total_trades": 1,
        "total_pnl": -115.57278346128295
      },
      "15": {
        "avg_pnl": 29.858323337285725,
        "win_rate": 1.0,
        "total_trades": 1,
        "total_pnl": 29.858323337285725
      },
      "16": {
        "avg_pnl": -32.423277437469714,
        "win_rate": 0.0,
        "total_trades": 1,
        "total_pnl": -32.423277437469714
      }
    },
    "confidence_quartiles": {
      "Q1": {
        "avg_pnl": 15.277323144389946,
        "win_rate": 0.75,
        "avg_confidence": 0.13175981881215512,
        "trades": 4
      },
      "Q2": {
        "avg_pnl": -37.235714262509646,
        "win_rate": 0.3333333333333333,
        "avg_confidence": 0.13930284199574064,
        "trades": 3
      },
      "Q3": {
        "avg_pnl": 18.057584549754655,
        "win_rate": 0.6666666666666666,
        "avg_confidence": 0.15200519210618305,
        "trades": 3
      },
      "Q4": {
        "avg_pnl": -6.743213798016756,
        "win_rate": 0.5,
        "avg_confidence": 0.1977167851038399,
        "trades": 4
      }
    }
  },
  "threshold_sensitivity": [
    {
      "threshold": 0.3,
      "total_signals": 543,
      "long_signals": 423,
      "short_signals": 120,
      "signal_ratio": 0.07163588390501319,
      "accuracy": 0.6463060686015831
    },
    {
      "threshold": 0.35,
      "total_signals": 1331,
      "long_signals": 796,
      "short_signals": 535,
      "signal_ratio": 0.17559366754617414,
      "accuracy": 0.5866754617414248
    },
    {
      "threshold": 0.39999999999999997,
      "total_signals": 1971,
      "long_signals": 565,
      "short_signals": 1406,
      "signal_ratio": 0.2600263852242744,
      "accuracy": 0.5711081794195251
    },
    {
      "threshold": 0.44999999999999996,
      "total_signals": 1712,
      "long_signals": 387,
      "short_signals": 1325,
      "signal_ratio": 0.22585751978891822,
      "accuracy": 0.6034300791556728
    },
    {
      "threshold": 0.49999999999999994,
      "total_signals": 1020,
      "long_signals": 330,
      "short_signals": 690,
      "signal_ratio": 0.1345646437994723,
      "accuracy": 0.6675461741424802
    },
    {
      "threshold": 0.5499999999999999,
      "total_signals": 549,
      "long_signals": 273,
      "short_signals": 276,
      "signal_ratio": 0.07242744063324538,
      "accuracy": 0.6906332453825857
    },
    {
      "threshold": 0.5999999999999999,
      "total_signals": 305,
      "long_signals": 205,
      "short_signals": 100,
      "signal_ratio": 0.040237467018469655,
      "accuracy": 0.7075197889182058
    },
    {
      "threshold": 0.6499999999999999,
      "total_signals": 67,
      "long_signals": 47,
      "short_signals": 20,
      "signal_ratio": 0.008839050131926122,
      "accuracy": 0.6993403693931398
    },
    {
      "threshold": 0.7,
      "total_signals": 6,
      "long_signals": 6,
      "short_signals": 0,
      "signal_ratio": 0.0007915567282321899,
      "accuracy": 0.6963060686015831
    },
    {
      "threshold": 0.7499999999999999,
      "total_signals": 1,
      "long_signals": 1,
      "short_signals": 0,
      "signal_ratio": 0.00013192612137203166,
      "accuracy": 0.696174142480211
    },
    {
      "threshold": 0.7999999999999998,
      "total_signals": 0,
      "long_signals": 0,
      "short_signals": 0,
      "signal_ratio": 0.0,
      "accuracy": 0.696042216358839
    }
  ],
  "best_params": {
    "n_estimators": 165,
    "max_depth": 7,
    "min_samples_split": 22,
    "min_samples_leaf": 21,
    "thr_long": 0.6121792920135178,
    "thr_short": 0.6735547345147671,
    "min_confidence": 0.1259879030400053,
    "stop_mult": 0.7556236154281526,
    "take_mult": 1.9229965536237401,
    "trailing_mult": 0.6256098158093216,
    "breakeven_mult": 0.6164300033301935
  },
  "config": {
    "session_config": {
      "prebuffer_min": 45,
      "session_len_min": 45,
      "volatility_window": 10,
      "zscore_window_days": 3,
      "volatility_threshold": 1.8,
      "cooldown_min": 30
    },
    "sim_config": {
      "commission": 0.001,
      "spread_pct": 0.0002,
      "risk_per_trade": 0.2,
      "max_position_pct": 0.5,
      "default_stop_pct": 0.005,
      "default_take_pct": 0.015,
      "max_hold_minutes": 30,
      "min_hold_bars": 3
    }
  }
}