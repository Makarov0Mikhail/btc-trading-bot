{
  "horizon": 15,
  "timestamp": "20251218_011015",
  "metrics": {
    "long_accuracy": 0.8133288227334236,
    "short_accuracy": 0.8580514208389716,
    "long_precision": 0.27313101406365653,
    "short_precision": 1.0,
    "long_recall": 0.17194780987884437,
    "short_recall": 0.0004764173415912339,
    "long_f1": 0.2110380325993709,
    "short_f1": 0.0009523809523809524
  },
  "financial": {
    "pnl": -19.51616957087614,
    "sharpe": 37.136682008334134,
    "max_drawdown": 66.9667495529682
  },
  "feature_analysis": {
    "long_model": {
      "top_10_features": [
        {
          "feature": "atr_pct",
          "importance": 0.2870319835316739,
          "mutual_info": 0.006847707063031727,
          "abs_correlation": 0.023735262516078187
        },
        {
          "feature": "prev_candle_range",
          "importance": 0.14615303015695766,
          "mutual_info": 0.0059791501827102245,
          "abs_correlation": 0.019551936283263665
        },
        {
          "feature": "log_return",
          "importance": 0.08170504035750623,
          "mutual_info": 0.0067979205955635,
          "abs_correlation": 0.01773014041611684
        },
        {
          "feature": "macd_hist",
          "importance": 0.08082496434910938,
          "mutual_info": 0.0,
          "abs_correlation": 0.016323330226594747
        },
        {
          "feature": "log_return_lag_1",
          "importance": 0.07648599510695268,
          "mutual_info": 0.0004504745749982497,
          "abs_correlation": 0.0023432960029551187
        },
        {
          "feature": "rsi_14",
          "importance": 0.057628775135323655,
          "mutual_info": 0.0003871041704792688,
          "abs_correlation": 0.03685416733842849
        },
        {
          "feature": "volume_change_lag_1",
          "importance": 0.04952073799152869,
          "mutual_info": 0.006793328912484631,
          "abs_correlation": 0.0175271903051269
        },
        {
          "feature": "volume_change",
          "importance": 0.04827954230552308,
          "mutual_info": 0.011312795397167452,
          "abs_correlation": 0.13456756458384408
        },
        {
          "feature": "prev_candle_body",
          "importance": 0.04776620661416837,
          "mutual_info": 0.023240954394492697,
          "abs_correlation": 0.18583830594453596
        },
        {
          "feature": "log_return_lag_2",
          "importance": 0.047755208604300804,
          "mutual_info": 0.002605549715189559,
          "abs_correlation": 0.03604354412282884
        }
      ],
      "feature_importance_stats": {
        "max_importance": 0.2870319835316739,
        "min_importance": 0.008585972911623937,
        "mean_importance": 0.07692307692307694
      }
    },
    "short_model": {
      "top_10_features": [
        {
          "feature": "atr_pct",
          "importance": 0.23048122096663104,
          "mutual_info": 0.0027650972456987333,
          "abs_correlation": 0.013825149762860318
        },
        {
          "feature": "prev_candle_range",
          "importance": 0.11344076131479432,
          "mutual_info": 0.002312994084430642,
          "abs_correlation": 0.014178606720437682
        },
        {
          "feature": "macd_hist",
          "importance": 0.0949673541891973,
          "mutual_info": 0.00026159278668580477,
          "abs_correlation": 0.010709684562613573
        },
        {
          "feature": "rsi_14",
          "importance": 0.07734094249039913,
          "mutual_info": 0.0023156236503334426,
          "abs_correlation": 0.03627178075543437
        },
        {
          "feature": "log_return_lag_1",
          "importance": 0.07214847776269631,
          "mutual_info": 0.0003847306770488057,
          "abs_correlation": 0.02512950235997667
        },
        {
          "feature": "hour_sin",
          "importance": 0.07054181893957105,
          "mutual_info": 0.0,
          "abs_correlation": 0.01997639702800051
        },
        {
          "feature": "log_return",
          "importance": 0.06536523917070845,
          "mutual_info": 0.00016937837577435388,
          "abs_correlation": 0.010849411935739317
        },
        {
          "feature": "volume_change_lag_1",
          "importance": 0.061456034404331554,
          "mutual_info": 0.008594230551675519,
          "abs_correlation": 0.0851440055465387
        },
        {
          "feature": "prev_candle_body",
          "importance": 0.051101027861923096,
          "mutual_info": 0.010899081896031504,
          "abs_correlation": 0.11019698436232978
        },
        {
          "feature": "volume_change",
          "importance": 0.05094736012780926,
          "mutual_info": 0.002623836629083831,
          "abs_correlation": 0.01894983190218393
        }
      ],
      "feature_importance_stats": {
        "max_importance": 0.23048122096663104,
        "min_importance": 0.014338427999795612,
        "mean_importance": 0.07692307692307691
      }
    }
  },
  "trades_detailed": {
    "summary": {
      "total_trades": 281,
      "winning_trades": 139,
      "losing_trades": 142,
      "win_rate": 0.49466192170818507,
      "avg_win_pct": 0.0043901112251192856,
      "avg_loss_pct": -0.004367641302174225,
      "profit_factor": 0.47829795338755104,
      "largest_win_pct": 0.02095282783101471,
      "largest_loss_pct": -0.022162755923997968,
      "avg_holding_minutes": 28.512455516014235
    },
    "by_direction": {
      "long": {
        "total_trades": 280,
        "winning_trades": 138,
        "losing_trades": 142,
        "win_rate": 0.4928571428571429,
        "avg_win_pct": 0.004322219787975156,
        "avg_loss_pct": -0.004367641302174225,
        "profit_factor": 0.4652662009513245,
        "largest_win_pct": 0.02095282783101471,
        "largest_loss_pct": -0.022162755923997968,
        "avg_holding_minutes": 28.560714285714287
      },
      "short": {
        "total_trades": 1,
        "winning_trades": 1,
        "losing_trades": 0,
        "win_rate": 1.0,
        "avg_win_pct": 0.013759129551009108,
        "avg_loss_pct": 0,
        "profit_factor": Infinity,
        "largest_win_pct": 0.013759129551009108,
        "largest_loss_pct": 0,
        "avg_holding_minutes": 15.0
      },
      "total_trades": 281,
      "long_count": 280,
      "short_count": 1
    },
    "holding_time_stats": {
      "mean": 28.512455516014235,
      "median": 15.0,
      "min": 1.0,
      "max": 425.0,
      "std": 42.67789673556035
    },
    "exit_reasons": {
      "HORIZON_EXIT": 154,
      "STOP_LOSS": 71,
      "MAX_HOLD": 23,
      "TAKE_PROFIT": 33
    },
    "hourly_performance": {
      "18": {
        "avg_pnl": -5.716149165984823,
        "win_rate": 0.3333333333333333,
        "total_trades": 12,
        "total_pnl": -68.59378999181787
      },
      "6": {
        "avg_pnl": -21.573433176006407,
        "win_rate": 0.2857142857142857,
        "total_trades": 7,
        "total_pnl": -151.01403223204485
      },
      "17": {
        "avg_pnl": -5.0210500520685,
        "win_rate": 0.35,
        "total_trades": 20,
        "total_pnl": -100.42100104137
      },
      "8": {
        "avg_pnl": -1.5773403126382337,
        "win_rate": 0.5714285714285714,
        "total_trades": 7,
        "total_pnl": -11.041382188467637
      },
      "16": {
        "avg_pnl": -8.511074457739412,
        "win_rate": 0.37142857142857144,
        "total_trades": 35,
        "total_pnl": -297.8876060208794
      },
      "2": {
        "avg_pnl": -13.443041196179927,
        "win_rate": 0.26666666666666666,
        "total_trades": 15,
        "total_pnl": -201.6456179426989
      },
      "4": {
        "avg_pnl": -15.740226117876713,
        "win_rate": 0.25,
        "total_trades": 8,
        "total_pnl": -125.9218089430137
      },
      "9": {
        "avg_pnl": -15.239018376746953,
        "win_rate": 0.2857142857142857,
        "total_trades": 7,
        "total_pnl": -106.67312863722867
      },
      "13": {
        "avg_pnl": 2.946154435382697,
        "win_rate": 0.375,
        "total_trades": 16,
        "total_pnl": 47.13847096612315
      },
      "14": {
        "avg_pnl": 0.14681400252320861,
        "win_rate": 0.4722222222222222,
        "total_trades": 36,
        "total_pnl": 5.28530409083551
      },
      "15": {
        "avg_pnl": -9.094798991158395,
        "win_rate": 0.3333333333333333,
        "total_trades": 27,
        "total_pnl": -245.55957276127666
      },
      "19": {
        "avg_pnl": -14.130892335606541,
        "win_rate": 0.15789473684210525,
        "total_trades": 19,
        "total_pnl": -268.4869543765243
      },
      "3": {
        "avg_pnl": 2.0097806830929787,
        "win_rate": 0.4444444444444444,
        "total_trades": 9,
        "total_pnl": 18.08802614783681
      },
      "7": {
        "avg_pnl": -17.435491471679295,
        "win_rate": 0.4,
        "total_trades": 5,
        "total_pnl": -87.17745735839648
      },
      "20": {
        "avg_pnl": 4.837770108084737,
        "win_rate": 0.5,
        "total_trades": 12,
        "total_pnl": 58.05324129701684
      },
      "21": {
        "avg_pnl": -10.218830052423506,
        "win_rate": 0.2222222222222222,
        "total_trades": 9,
        "total_pnl": -91.96947047181155
      },
      "11": {
        "avg_pnl": -4.288162530925779,
        "win_rate": 0.2857142857142857,
        "total_trades": 7,
        "total_pnl": -30.01713771648045
      },
      "10": {
        "avg_pnl": 10.545117935901766,
        "win_rate": 0.4,
        "total_trades": 5,
        "total_pnl": 52.72558967950883
      },
      "0": {
        "avg_pnl": -4.263633706720533,
        "win_rate": 0.5,
        "total_trades": 6,
        "total_pnl": -25.5818022403232
      },
      "22": {
        "avg_pnl": -20.712050835607112,
        "win_rate": 0.2857142857142857,
        "total_trades": 7,
        "total_pnl": -144.9843558492498
      },
      "12": {
        "avg_pnl": -1.309635749054193,
        "win_rate": 0.5,
        "total_trades": 2,
        "total_pnl": -2.619271498108386
      },
      "5": {
        "avg_pnl": -39.765553278693766,
        "win_rate": 0.0,
        "total_trades": 2,
        "total_pnl": -79.53110655738753
      },
      "1": {
        "avg_pnl": -10.99089626922389,
        "win_rate": 0.25,
        "total_trades": 4,
        "total_pnl": -43.96358507689556
      },
      "23": {
        "avg_pnl": -12.454627091237661,
        "win_rate": 0.25,
        "total_trades": 4,
        "total_pnl": -49.818508364950645
      }
    },
    "confidence_quartiles": {
      "Q1": {
        "avg_pnl": -3.1447259242140078,
        "win_rate": 0.5070422535211268,
        "avg_confidence": 0.031729567339068294,
        "trades": 71
      },
      "Q2": {
        "avg_pnl": -9.048432788597582,
        "win_rate": 0.2571428571428571,
        "avg_confidence": 0.0526970158723978,
        "trades": 70
      },
      "Q3": {
        "avg_pnl": -9.858652366943138,
        "win_rate": 0.32857142857142857,
        "avg_confidence": 0.0740640454587366,
        "trades": 70
      },
      "Q4": {
        "avg_pnl": -5.783506508293707,
        "win_rate": 0.3142857142857143,
        "avg_confidence": 0.1250534671790125,
        "trades": 70
      }
    }
  },
  "threshold_sensitivity": [
    {
      "threshold": 0.3,
      "total_signals": 1676,
      "long_signals": 646,
      "short_signals": 1030,
      "signal_ratio": 0.11339648173207037,
      "accuracy": 0.6294316644113667
    },
    {
      "threshold": 0.35,
      "total_signals": 2818,
      "long_signals": 542,
      "short_signals": 2276,
      "signal_ratio": 0.19066305818673884,
      "accuracy": 0.587212449255751
    },
    {
      "threshold": 0.39999999999999997,
      "total_signals": 3299,
      "long_signals": 598,
      "short_signals": 2701,
      "signal_ratio": 0.22320703653585927,
      "accuracy": 0.5886332882273342
    },
    {
      "threshold": 0.44999999999999996,
      "total_signals": 2749,
      "long_signals": 888,
      "short_signals": 1861,
      "signal_ratio": 0.18599458728010826,
      "accuracy": 0.6323410013531799
    },
    {
      "threshold": 0.49999999999999994,
      "total_signals": 1765,
      "long_signals": 655,
      "short_signals": 1110,
      "signal_ratio": 0.11941813261163735,
      "accuracy": 0.683491204330176
    },
    {
      "threshold": 0.5499999999999999,
      "total_signals": 1172,
      "long_signals": 463,
      "short_signals": 709,
      "signal_ratio": 0.07929634641407307,
      "accuracy": 0.7062922868741542
    },
    {
      "threshold": 0.5999999999999999,
      "total_signals": 707,
      "long_signals": 516,
      "short_signals": 191,
      "signal_ratio": 0.04783491204330176,
      "accuracy": 0.7143437077131258
    },
    {
      "threshold": 0.6499999999999999,
      "total_signals": 250,
      "long_signals": 225,
      "short_signals": 25,
      "signal_ratio": 0.016914749661705007,
      "accuracy": 0.7167117726657646
    },
    {
      "threshold": 0.7,
      "total_signals": 28,
      "long_signals": 28,
      "short_signals": 0,
      "signal_ratio": 0.0018944519621109607,
      "accuracy": 0.7133288227334236
    },
    {
      "threshold": 0.7499999999999999,
      "total_signals": 2,
      "long_signals": 2,
      "short_signals": 0,
      "signal_ratio": 0.00013531799729364006,
      "accuracy": 0.7129228687415426
    },
    {
      "threshold": 0.7999999999999998,
      "total_signals": 0,
      "long_signals": 0,
      "short_signals": 0,
      "signal_ratio": 0.0,
      "accuracy": 0.7127875507442489
    }
  ],
  "best_params": {
    "n_estimators": 166,
    "max_depth": 8,
    "min_samples_split": 24,
    "min_samples_leaf": 11,
    "thr_long": 0.5026008973402787,
    "thr_short": 0.6183852115775188,
    "min_confidence": 0.023844921172390565,
    "stop_mult": 1.112198917016002,
    "take_mult": 1.142848551854918,
    "trailing_mult": 0.611747545185179,
    "breakeven_mult": 0.45144045702760527
  },
  "config": {
    "session_config": {
      "prebuffer_min": 45,
      "session_len_min": 45,
      "volatility_window": 10,
      "zscore_window_days": 3,
      "volatility_threshold": 1.8,
      "cooldown_min": 30
    },
    "sim_config": {
      "commission": 0.001,
      "spread_pct": 0.0002,
      "risk_per_trade": 0.2,
      "max_position_pct": 0.5,
      "default_stop_pct": 0.005,
      "default_take_pct": 0.015,
      "max_hold_minutes": 30,
      "min_hold_bars": 3
    }
  }
}