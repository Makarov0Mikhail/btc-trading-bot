{
  "horizon": 15,
  "timestamp": "20251223_022025",
  "metrics": {
    "long_accuracy": 0.8548037889039242,
    "short_accuracy": 0.8581867388362652,
    "long_precision": 0.5,
    "short_precision": 1.0,
    "long_recall": 0.00046598322460391424,
    "short_recall": 0.0014292520247737017,
    "long_f1": 0.000931098696461825,
    "short_f1": 0.0028544243577545195
  },
  "financial": {
    "pnl": 0.4220977207773924,
    "sharpe": 1.826285996837128,
    "max_drawdown": 100.34201138463435
  },
  "feature_analysis": {
    "long_model": {
      "top_10_features": [
        {
          "feature": "atr_pct",
          "importance": 0.38498110149041576,
          "mutual_info": 0.007056689051307075,
          "abs_correlation": 0.023735262516078187
        },
        {
          "feature": "macd_hist",
          "importance": 0.10631862806578028,
          "mutual_info": 0.006713849755652257,
          "abs_correlation": 0.01773014041611684
        },
        {
          "feature": "log_return",
          "importance": 0.1023339363920882,
          "mutual_info": 0.0020137820157954955,
          "abs_correlation": 0.016323330226594747
        },
        {
          "feature": "rsi_14",
          "importance": 0.07702435366136673,
          "mutual_info": 0.0003579442470220684,
          "abs_correlation": 0.0023432960029551187
        },
        {
          "feature": "prev_candle_body",
          "importance": 0.0627680130673085,
          "mutual_info": 0.0024918177313073553,
          "abs_correlation": 0.03685416733842849
        },
        {
          "feature": "log_return_lag_2",
          "importance": 0.062185611807568486,
          "mutual_info": 0.006902293024725781,
          "abs_correlation": 0.0175271903051269
        },
        {
          "feature": "volume_change_lag_1",
          "importance": 0.054062564548094404,
          "mutual_info": 0.00026148616061605345,
          "abs_correlation": 0.011292463849302567
        },
        {
          "feature": "volume_change",
          "importance": 0.051545719729720496,
          "mutual_info": 0.0,
          "abs_correlation": 0.006575303591907652
        },
        {
          "feature": "hour_sin",
          "importance": 0.04500545017651145,
          "mutual_info": 0.023240954394492697,
          "abs_correlation": 0.18583830594453596
        },
        {
          "feature": "hour_cos",
          "importance": 0.03993523419358675,
          "mutual_info": 0.0026220285163252033,
          "abs_correlation": 0.03604354412282884
        }
      ],
      "feature_importance_stats": {
        "max_importance": 0.38498110149041576,
        "min_importance": 0.013839386867558829,
        "mean_importance": 0.09090909090909091
      }
    },
    "short_model": {
      "top_10_features": [
        {
          "feature": "atr_pct",
          "importance": 0.29856807801026974,
          "mutual_info": 0.0028237643032689164,
          "abs_correlation": 0.013825149762860318
        },
        {
          "feature": "macd_hist",
          "importance": 0.10952124895252334,
          "mutual_info": 0.00015898117132784328,
          "abs_correlation": 0.010709684562613573
        },
        {
          "feature": "rsi_14",
          "importance": 0.08788124801173837,
          "mutual_info": 0.0024398385795336708,
          "abs_correlation": 0.03627178075543437
        },
        {
          "feature": "hour_sin",
          "importance": 0.08380096433247243,
          "mutual_info": 0.0007099767019780323,
          "abs_correlation": 0.02512950235997667
        },
        {
          "feature": "log_return",
          "importance": 0.0836630573857015,
          "mutual_info": 0.0,
          "abs_correlation": 0.01997639702800051
        },
        {
          "feature": "volume_change_lag_1",
          "importance": 0.06676509849287035,
          "mutual_info": 3.3397212902075424e-05,
          "abs_correlation": 0.010849411935739317
        },
        {
          "feature": "log_return_lag_2",
          "importance": 0.0659905955929696,
          "mutual_info": 0.0,
          "abs_correlation": 0.000317206559050915
        },
        {
          "feature": "hour_cos",
          "importance": 0.0636602442037569,
          "mutual_info": 0.001342184344048869,
          "abs_correlation": 0.006554500697066211
        },
        {
          "feature": "prev_candle_body",
          "importance": 0.06121793338181214,
          "mutual_info": 0.010899081896031504,
          "abs_correlation": 0.11019698436232978
        },
        {
          "feature": "volume_change",
          "importance": 0.059629030087041734,
          "mutual_info": 0.002625190256781984,
          "abs_correlation": 0.01894983190218393
        }
      ],
      "feature_importance_stats": {
        "max_importance": 0.29856807801026974,
        "min_importance": 0.019302501548843953,
        "mean_importance": 0.09090909090909091
      }
    }
  },
  "trades_detailed": {
    "summary": {
      "total_trades": 1,
      "winning_trades": 1,
      "losing_trades": 0,
      "win_rate": 1.0,
      "avg_win_pct": 0.005728444246225095,
      "avg_loss_pct": 0,
      "profit_factor": Infinity,
      "largest_win_pct": 0.005728444246225095,
      "largest_loss_pct": 0,
      "avg_holding_minutes": 5.0
    },
    "by_direction": {
      "long": {
        "total_trades": 1,
        "winning_trades": 1,
        "losing_trades": 0,
        "win_rate": 1.0,
        "avg_win_pct": 0.005728444246225095,
        "avg_loss_pct": 0,
        "profit_factor": Infinity,
        "largest_win_pct": 0.005728444246225095,
        "largest_loss_pct": 0,
        "avg_holding_minutes": 5.0
      },
      "short": {
        "total_trades": 0,
        "winning_trades": 0,
        "losing_trades": 0,
        "win_rate": 0,
        "avg_win_pct": 0,
        "avg_loss_pct": 0,
        "profit_factor": 0,
        "largest_win_pct": 0,
        "largest_loss_pct": 0,
        "avg_holding_minutes": 0
      },
      "total_trades": 1,
      "long_count": 1,
      "short_count": 0
    },
    "trades_list": [
      {
        "entry_time": "2025-11-21 07:35:00",
        "exit_time": "2025-11-21 07:40:00",
        "direction": "LONG",
        "entry_price": 83761.77534,
        "exit_price": 84233.17584000001,
        "pnl_pct": 0.005728444246225095,
        "pnl_usd": 42.20977207773767,
        "exit_reason": "MODEL_EXIT",
        "holding_time_minutes": 5.0,
        "confidence": 0.2437438102520636
      }
    ],
    "holding_time_stats": {
      "mean": 5.0,
      "median": 5.0,
      "min": 5.0,
      "max": 5.0,
      "std": 0.0
    },
    "exit_reasons": {
      "MODEL_EXIT": 1
    },
    "hourly_performance": {
      "7": {
        "avg_pnl": 42.20977207773767,
        "win_rate": 1.0,
        "total_trades": 1,
        "total_pnl": 42.20977207773767
      }
    }
  },
  "threshold_sensitivity": [
    {
      "threshold": 0.3,
      "total_signals": 3349,
      "long_signals": 1189,
      "short_signals": 2160,
      "signal_ratio": 0.22658998646820028,
      "accuracy": 0.5602165087956699
    },
    {
      "threshold": 0.35,
      "total_signals": 3684,
      "long_signals": 1090,
      "short_signals": 2594,
      "signal_ratio": 0.24925575101488498,
      "accuracy": 0.5686738836265224
    },
    {
      "threshold": 0.39999999999999997,
      "total_signals": 3636,
      "long_signals": 1033,
      "short_signals": 2603,
      "signal_ratio": 0.2460081190798376,
      "accuracy": 0.5960081190798376
    },
    {
      "threshold": 0.44999999999999996,
      "total_signals": 2885,
      "long_signals": 1069,
      "short_signals": 1816,
      "signal_ratio": 0.19519621109607577,
      "accuracy": 0.6442489851150203
    },
    {
      "threshold": 0.49999999999999994,
      "total_signals": 1969,
      "long_signals": 659,
      "short_signals": 1310,
      "signal_ratio": 0.13322056833558862,
      "accuracy": 0.6824086603518268
    },
    {
      "threshold": 0.5499999999999999,
      "total_signals": 1497,
      "long_signals": 595,
      "short_signals": 902,
      "signal_ratio": 0.10128552097428958,
      "accuracy": 0.7048714479025711
    },
    {
      "threshold": 0.5999999999999999,
      "total_signals": 731,
      "long_signals": 463,
      "short_signals": 268,
      "signal_ratio": 0.04945872801082544,
      "accuracy": 0.7166441136671178
    },
    {
      "threshold": 0.6499999999999999,
      "total_signals": 195,
      "long_signals": 161,
      "short_signals": 34,
      "signal_ratio": 0.013193504736129905,
      "accuracy": 0.7156968876860622
    },
    {
      "threshold": 0.7,
      "total_signals": 27,
      "long_signals": 20,
      "short_signals": 7,
      "signal_ratio": 0.0018267929634641408,
      "accuracy": 0.7136671177266577
    },
    {
      "threshold": 0.7499999999999999,
      "total_signals": 1,
      "long_signals": 1,
      "short_signals": 0,
      "signal_ratio": 6.765899864682003e-05,
      "accuracy": 0.7128552097428958
    },
    {
      "threshold": 0.7999999999999998,
      "total_signals": 0,
      "long_signals": 0,
      "short_signals": 0,
      "signal_ratio": 0.0,
      "accuracy": 0.7127875507442489
    }
  ],
  "best_params": {
    "n_estimators": 98,
    "max_depth": 11,
    "min_samples_split": 24,
    "min_samples_leaf": 8,
    "thr_long": 0.7357419661416607,
    "thr_short": 0.6242781173618438,
    "min_confidence": 0.1724674666921559,
    "stop_mult": 0.8382589763310762,
    "take_mult": 1.8303627067168229,
    "trailing_mult": 0.7998091418915999,
    "breakeven_mult": 0.4686813814544591,
    "exit_confidence_drop": 0.17581393218138852
  },
  "config": {
    "session_config": {
      "prebuffer_min": 45,
      "session_len_min": 45,
      "volatility_window": 10,
      "zscore_window_days": 3,
      "volatility_threshold": 1.8,
      "cooldown_min": 30
    },
    "sim_config": {
      "commission": 0.001,
      "spread_pct": 0.0002,
      "risk_per_trade": 0.2,
      "max_position_pct": 0.9,
      "default_stop_pct": 0.005,
      "default_take_pct": 0.015,
      "max_hold_minutes": 30,
      "min_hold_bars": 3
    }
  }
}