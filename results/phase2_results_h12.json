{
  "model": "RandomForestClassifier",
  "best_params": {
    "n_estimators": 86,
    "max_depth": 4,
    "min_samples_split": 41,
    "min_samples_leaf": 25,
    "max_features": "sqrt",
    "bootstrap": false,
    "sl_atr_mult": 1.4800342325490072,
    "tp_atr_mult": 4.93107881659488,
    "max_hold_days": 12,
    "stop_loss_pct": 0.02074996699885974,
    "take_profit_pct": 0.05075977870877708,
    "min_trades_thr": 23,
    "proba_step": 0.009385791963204618,
    "ret_step": 0.0018048503628883368,
    "ret_min": 0.009825929686685192,
    "ret_max": 0.017232639054494073,
    "atr_col": "atr_21",
    "bag_n_estimators": 76,
    "bag_max_samples": 0.9162881288791866,
    "bag_max_features": 0.871331006335984,
    "logreg_C": 6.524069981057027,
    "weight_pnl": 0.610082318567224,
    "pnl_scale": 37.28806437959857
  },
  "rf_params": {
    "n_estimators": 86,
    "max_depth": 4,
    "min_samples_split": 41,
    "min_samples_leaf": 25,
    "max_features": "sqrt",
    "bootstrap": false,
    "random_state": 42,
    "n_jobs": -1,
    "class_weight": "balanced"
  },
  "trade_params": {
    "stop_loss": 0.03,
    "take_profit": 0.05,
    "max_hold_days": 12,
    "atr_col": "atr_14",
    "sl_atr_mult": 1.4800342325490072,
    "tp_atr_mult": 4.93107881659488
  },
  "features_used": [
    "returns",
    "log_returns",
    "sma_ratio",
    "logret_std_1",
    "logret_std_7",
    "logret_std_14",
    "logret_std_21",
    "logret_std_28",
    "logret_mean_7",
    "logret_cum_7",
    "logret_skew_14",
    "logret_kurt_14",
    "atr_14",
    "atr_pct",
    "atr_pct_7",
    "atr_pct_21",
    "range_pct",
    "range_vol_14",
    "body_pct",
    "upper_wick_pct",
    "lower_wick_pct",
    "volume_ratio",
    "log_volume_diff",
    "obv_delta",
    "macd",
    "macd_signal",
    "macd_hist",
    "rsi_14",
    "hour_sin",
    "hour_cos"
  ],
  "target_horizon": 12,
  "metrics": {
    "train": {
      "train_accuracy": 0.6730718735826988,
      "train_precision": 0.3958488774333582,
      "train_recall": 0.5492705882352941,
      "train_f1": 0.46010722169662566,
      "train_roc_auc": 0.6904322163610233
    },
    "validation": {
      "val_best_accuracy": 0.7839456869009584,
      "val_best_precision": 0.2925531914893617,
      "val_best_recall": 0.054780876494023904,
      "val_best_f1": 0.09228187919463088,
      "val_best_roc_auc": 0.5962976266761126
    },
    "test": {
      "test_accuracy": 0.764776357827476,
      "test_precision": 0.19463087248322147,
      "test_recall": 0.05823293172690763,
      "test_f1": 0.08964451313755796,
      "test_roc_auc": 0.557402090916007
    }
  },
  "trading_results": {
    "pnl_test": -4.799404834114962,
    "final_capital": 9520.059516588504,
    "num_trades": 29,
    "max_drawdown": 6.7719835665780925
  },
  "horizon_analysis": [
    {
      "horizon": 6,
      "f1": 0.3021778584392015,
      "accuracy": 0.6928913738019169,
      "pnl": -42.42451350243481,
      "trades": 203
    },
    {
      "horizon": 12,
      "f1": 0.3038524145415084,
      "accuracy": 0.7438099041533547,
      "pnl": -30.28608479124505,
      "trades": 116
    },
    {
      "horizon": 24,
      "f1": 0.23824737562756731,
      "accuracy": 0.6667332268370607,
      "pnl": -26.479496964696736,
      "trades": 107
    }
  ],
  "metadata": {
    "created_date": "2025-12-11T13:21:10.744106",
    "phase": 2,
    "data_version": "2025-12-11T01:51:31.657818"
  }
}