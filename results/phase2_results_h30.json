{
  "model": "RandomForestClassifier",
  "best_params": {
    "n_estimators": 100,
    "max_depth": 5,
    "min_samples_split": 20,
    "min_samples_leaf": 5,
    "max_features": "sqrt",
    "bootstrap": true,
    "sl_atr_mult": 1.5,
    "tp_atr_mult": 3.0,
    "max_hold_days": 10,
    "stop_loss_pct": 0.02,
    "take_profit_pct": 0.05,
    "min_trades_thr": 10,
    "proba_step": 0.01,
    "ret_step": 0.002,
    "atr_col": "atr_14",
    "bag_n_estimators": 50,
    "bag_max_samples": 0.8,
    "bag_max_features": 0.8,
    "logreg_C": 1.0,
    "weight_pnl": 0.5,
    "pnl_scale": 50.0,
    "ret_band": 0.01
  },
  "rf_params": {
    "n_estimators": 100,
    "max_depth": 5,
    "min_samples_split": 20,
    "min_samples_leaf": 5,
    "max_features": "sqrt",
    "bootstrap": true,
    "random_state": 42,
    "n_jobs": -1,
    "class_weight": "balanced"
  },
  "trade_params": {
    "stop_loss": 0.03,
    "take_profit": 0.05,
    "max_hold_days": 10,
    "atr_col": "atr_14",
    "sl_atr_mult": 1.5,
    "tp_atr_mult": 3.0
  },
  "features_used": [
    "atr_pct",
    "atr_pct_21",
    "logret_std_28",
    "logret_std_21",
    "logret_std_14",
    "logret_std_7",
    "range_vol_14",
    "range_pct",
    "logret_mean_7",
    "logret_cum_7",
    "logret_skew_14",
    "logret_kurt_14",
    "impulse_range",
    "session_vol_rank",
    "revert_speed",
    "vol_jerk",
    "run_up_ratio"
  ],
  "target_horizon": 30,
  "metrics": {
    "train": {
      "train_accuracy": 0.9084948109598752,
      "train_precision": 0.4182892906815021,
      "train_recall": 0.02873178887031287,
      "train_f1": 0.05377016940061682,
      "train_roc_auc": 0.746279992450536
    },
    "validation": {
      "val_best_accuracy": 0.9522418909821844,
      "val_best_precision": 0.3364485981308411,
      "val_best_recall": 0.014495671431447555,
      "val_best_f1": 0.027793862188766647,
      "val_best_roc_auc": 0.7999369248514596
    },
    "test": {
      "test_accuracy": 0.9491674774659006,
      "test_precision": 0.37777777777777777,
      "test_recall": 0.006163886874546773,
      "test_f1": 0.012129860863360684,
      "test_roc_auc": 0.7758509133809675
    }
  },
  "trading_results": {
    "pnl_test": -0.5325613833644827,
    "final_capital": 9946.743861663552,
    "num_trades": 6,
    "max_drawdown": 0.8648272976833212
  },
  "horizon_analysis": [],
  "metadata": {
    "created_date": "2025-12-14T03:54:18.050038",
    "phase": 2,
    "data_version": "2025-12-12T20:33:20.611564"
  }
}