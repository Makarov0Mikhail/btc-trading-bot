{
  "horizon": 15,
  "timestamp": "20251218_041557",
  "metrics": {
    "long_accuracy": 0.8514208389715833,
    "short_accuracy": 0.8577131258457374,
    "long_precision": 0.3655913978494624,
    "short_precision": 0.16666666666666666,
    "long_recall": 0.03168685927306617,
    "short_recall": 0.0004764173415912339,
    "long_f1": 0.058319039451114926,
    "short_f1": 0.0009501187648456057
  },
  "financial": {
    "pnl": -0.5019901682905781,
    "sharpe": 6.4834666150805695,
    "max_drawdown": 67.34351686468926
  },
  "feature_analysis": {
    "long_model": {
      "top_10_features": [
        {
          "feature": "atr_pct",
          "importance": 0.3814319895617917,
          "mutual_info": 0.007056689051307075,
          "abs_correlation": 0.023735262516078187
        },
        {
          "feature": "macd_hist",
          "importance": 0.09566991142002906,
          "mutual_info": 0.0059448221786231326,
          "abs_correlation": 0.019551936283263665
        },
        {
          "feature": "log_return",
          "importance": 0.08852784487376969,
          "mutual_info": 0.006810623120594883,
          "abs_correlation": 0.01773014041611684
        },
        {
          "feature": "log_return_lag_1",
          "importance": 0.0801975579757378,
          "mutual_info": 9.554800346389669e-05,
          "abs_correlation": 0.016323330226594747
        },
        {
          "feature": "rsi_14",
          "importance": 0.06875898657681687,
          "mutual_info": 0.0011907181787051968,
          "abs_correlation": 0.0023432960029551187
        },
        {
          "feature": "prev_candle_body",
          "importance": 0.055527811920171734,
          "mutual_info": 0.006902293024725781,
          "abs_correlation": 0.0175271903051269
        },
        {
          "feature": "log_return_lag_2",
          "importance": 0.0553314761064467,
          "mutual_info": 0.02325343225007437,
          "abs_correlation": 0.18583830594453596
        },
        {
          "feature": "volume_change",
          "importance": 0.0491692499773475,
          "mutual_info": 0.0026292010245587694,
          "abs_correlation": 0.03604354412282884
        },
        {
          "feature": "volume_change_lag_1",
          "importance": 0.04863955261874089,
          "mutual_info": 0.006036964786291676,
          "abs_correlation": 0.03489500428632694
        },
        {
          "feature": "hour_sin",
          "importance": 0.0415114574378806,
          "mutual_info": 0.00026148616061605345,
          "abs_correlation": 0.011292463849302567
        }
      ],
      "feature_importance_stats": {
        "max_importance": 0.3814319895617917,
        "min_importance": 0.035234161531267454,
        "mean_importance": 0.09090909090909091
      }
    },
    "short_model": {
      "top_10_features": [
        {
          "feature": "atr_pct",
          "importance": 0.2844626377956749,
          "mutual_info": 0.0028237643032689164,
          "abs_correlation": 0.013825149762860318
        },
        {
          "feature": "macd_hist",
          "importance": 0.10453710172917567,
          "mutual_info": 0.002432603702190672,
          "abs_correlation": 0.014178606720437682
        },
        {
          "feature": "log_return_lag_1",
          "importance": 0.0860548346908467,
          "mutual_info": 0.0,
          "abs_correlation": 0.010709684562613573
        },
        {
          "feature": "rsi_14",
          "importance": 0.08329729690062747,
          "mutual_info": 0.003947537251905775,
          "abs_correlation": 0.03627178075543437
        },
        {
          "feature": "hour_sin",
          "importance": 0.07846702489804844,
          "mutual_info": 0.0035213163450678042,
          "abs_correlation": 0.02512950235997667
        },
        {
          "feature": "log_return",
          "importance": 0.07579324734189147,
          "mutual_info": 3.3397212902075424e-05,
          "abs_correlation": 0.010849411935739317
        },
        {
          "feature": "volume_change_lag_1",
          "importance": 0.06375372481961146,
          "mutual_info": 0.010893477959826647,
          "abs_correlation": 0.11019698436232978
        },
        {
          "feature": "log_return_lag_2",
          "importance": 0.05830286940684774,
          "mutual_info": 0.002621580948009461,
          "abs_correlation": 0.01894983190218393
        },
        {
          "feature": "prev_candle_body",
          "importance": 0.05721383558842549,
          "mutual_info": 0.0022536424421653045,
          "abs_correlation": 0.010958300777439945
        },
        {
          "feature": "volume_change",
          "importance": 0.05504003321651893,
          "mutual_info": 0.0,
          "abs_correlation": 0.000317206559050915
        }
      ],
      "feature_importance_stats": {
        "max_importance": 0.2844626377956749,
        "min_importance": 0.053077393612331714,
        "mean_importance": 0.09090909090909091
      }
    }
  },
  "trades_detailed": {
    "summary": {
      "total_trades": 79,
      "winning_trades": 41,
      "losing_trades": 38,
      "win_rate": 0.5189873417721519,
      "avg_win_pct": 0.005549087955823984,
      "avg_loss_pct": -0.0031080867628215584,
      "profit_factor": 0.9426123263695338,
      "largest_win_pct": 0.013660692580916622,
      "largest_loss_pct": -0.007313956151534851,
      "avg_holding_minutes": 12.139240506329115
    },
    "by_direction": {
      "long": {
        "total_trades": 73,
        "winning_trades": 39,
        "losing_trades": 34,
        "win_rate": 0.5342465753424658,
        "avg_win_pct": 0.005468106444027359,
        "avg_loss_pct": -0.0029400615353470678,
        "profit_factor": 1.0211851322412833,
        "largest_win_pct": 0.01286458697185755,
        "largest_loss_pct": -0.007313956151534851,
        "avg_holding_minutes": 12.273972602739725
      },
      "short": {
        "total_trades": 6,
        "winning_trades": 2,
        "losing_trades": 4,
        "win_rate": 0.3333333333333333,
        "avg_win_pct": 0.00712822743585817,
        "avg_loss_pct": -0.004536301196354731,
        "profit_factor": 0.45427976482940324,
        "largest_win_pct": 0.013660692580916622,
        "largest_loss_pct": -0.00721219571328191,
        "avg_holding_minutes": 10.5
      },
      "total_trades": 79,
      "long_count": 73,
      "short_count": 6
    },
    "holding_time_stats": {
      "mean": 12.139240506329115,
      "median": 15.0,
      "min": 1.0,
      "max": 15.0,
      "std": 4.286375758690359
    },
    "exit_reasons": {
      "HORIZON_EXIT": 49,
      "STOP_LOSS": 22,
      "TAKE_PROFIT": 8
    },
    "hourly_performance": {
      "18": {
        "avg_pnl": -1.4418026793014587,
        "win_rate": 0.5,
        "total_trades": 4,
        "total_pnl": -5.767210717205835
      },
      "6": {
        "avg_pnl": 9.768360677800239,
        "win_rate": 0.4,
        "total_trades": 5,
        "total_pnl": 48.84180338900119
      },
      "16": {
        "avg_pnl": -16.46707434498538,
        "win_rate": 0.1,
        "total_trades": 10,
        "total_pnl": -164.6707434498538
      },
      "9": {
        "avg_pnl": -20.935671841587723,
        "win_rate": 0.0,
        "total_trades": 3,
        "total_pnl": -62.80701552476317
      },
      "13": {
        "avg_pnl": -3.9914334573073815,
        "win_rate": 0.0,
        "total_trades": 2,
        "total_pnl": -7.982866914614763
      },
      "15": {
        "avg_pnl": 2.160497595636006,
        "win_rate": 0.45454545454545453,
        "total_trades": 11,
        "total_pnl": 23.76547355199607
      },
      "19": {
        "avg_pnl": 11.680531888378079,
        "win_rate": 0.5,
        "total_trades": 2,
        "total_pnl": 23.361063776756158
      },
      "7": {
        "avg_pnl": -4.582996292182472,
        "win_rate": 0.25,
        "total_trades": 4,
        "total_pnl": -18.331985168729886
      },
      "20": {
        "avg_pnl": 19.76735195829963,
        "win_rate": 0.6666666666666666,
        "total_trades": 3,
        "total_pnl": 59.30205587489889
      },
      "8": {
        "avg_pnl": 29.753014924347355,
        "win_rate": 1.0,
        "total_trades": 1,
        "total_pnl": 29.753014924347355
      },
      "10": {
        "avg_pnl": 2.886973743330508,
        "win_rate": 0.3333333333333333,
        "total_trades": 3,
        "total_pnl": 8.660921229991525
      },
      "17": {
        "avg_pnl": -4.653483102144892,
        "win_rate": 0.3333333333333333,
        "total_trades": 3,
        "total_pnl": -13.960449306434676
      },
      "22": {
        "avg_pnl": 1.45604063929001,
        "win_rate": 1.0,
        "total_trades": 2,
        "total_pnl": 2.91208127858002
      },
      "14": {
        "avg_pnl": 8.758636194689952,
        "win_rate": 0.625,
        "total_trades": 8,
        "total_pnl": 70.06908955751962
      },
      "4": {
        "avg_pnl": -5.935619044312492,
        "win_rate": 0.5,
        "total_trades": 4,
        "total_pnl": -23.74247617724997
      },
      "5": {
        "avg_pnl": 13.496278944425717,
        "win_rate": 1.0,
        "total_trades": 2,
        "total_pnl": 26.992557888851433
      },
      "21": {
        "avg_pnl": -32.25807671687741,
        "win_rate": 0.0,
        "total_trades": 1,
        "total_pnl": -32.25807671687741
      },
      "1": {
        "avg_pnl": -18.74097747570156,
        "win_rate": 0.5,
        "total_trades": 2,
        "total_pnl": -37.48195495140312
      },
      "2": {
        "avg_pnl": 6.4418320705106735,
        "win_rate": 0.6666666666666666,
        "total_trades": 3,
        "total_pnl": 19.32549621153202
      },
      "0": {
        "avg_pnl": -19.335396324775477,
        "win_rate": 0.3333333333333333,
        "total_trades": 3,
        "total_pnl": -58.00618897432643
      },
      "23": {
        "avg_pnl": 8.67710040856116,
        "win_rate": 0.5,
        "total_trades": 2,
        "total_pnl": 17.35420081712232
      },
      "3": {
        "avg_pnl": 44.47219257180301,
        "win_rate": 1.0,
        "total_trades": 1,
        "total_pnl": 44.47219257180301
      }
    },
    "confidence_quartiles": {
      "Q1": {
        "avg_pnl": -1.5604145280951802,
        "win_rate": 0.4,
        "avg_confidence": 0.03141934964916356,
        "trades": 20
      },
      "Q2": {
        "avg_pnl": 4.384025530148248,
        "win_rate": 0.5,
        "avg_confidence": 0.13365250162174647,
        "trades": 20
      },
      "Q3": {
        "avg_pnl": -3.9780782481542976,
        "win_rate": 0.42105263157894735,
        "avg_confidence": 0.16191481213702014,
        "trades": 19
      },
      "Q4": {
        "avg_pnl": -1.5543875077594613,
        "win_rate": 0.4,
        "avg_confidence": 0.25279676546722984,
        "trades": 20
      }
    }
  },
  "threshold_sensitivity": [
    {
      "threshold": 0.3,
      "total_signals": 3433,
      "long_signals": 1133,
      "short_signals": 2300,
      "signal_ratio": 0.23227334235453315,
      "accuracy": 0.5569688768606225
    },
    {
      "threshold": 0.35,
      "total_signals": 4099,
      "long_signals": 1017,
      "short_signals": 3082,
      "signal_ratio": 0.2773342354533153,
      "accuracy": 0.5552097428958052
    },
    {
      "threshold": 0.39999999999999997,
      "total_signals": 3639,
      "long_signals": 1144,
      "short_signals": 2495,
      "signal_ratio": 0.24621109607577807,
      "accuracy": 0.5971583220568336
    },
    {
      "threshold": 0.44999999999999996,
      "total_signals": 2791,
      "long_signals": 1067,
      "short_signals": 1724,
      "signal_ratio": 0.1888362652232747,
      "accuracy": 0.6431664411366712
    },
    {
      "threshold": 0.49999999999999994,
      "total_signals": 2092,
      "long_signals": 661,
      "short_signals": 1431,
      "signal_ratio": 0.1415426251691475,
      "accuracy": 0.68382949932341
    },
    {
      "threshold": 0.5499999999999999,
      "total_signals": 1490,
      "long_signals": 657,
      "short_signals": 833,
      "signal_ratio": 0.10081190798376184,
      "accuracy": 0.7039918809201624
    },
    {
      "threshold": 0.5999999999999999,
      "total_signals": 714,
      "long_signals": 459,
      "short_signals": 255,
      "signal_ratio": 0.0483085250338295,
      "accuracy": 0.7150879566982409
    },
    {
      "threshold": 0.6499999999999999,
      "total_signals": 183,
      "long_signals": 153,
      "short_signals": 30,
      "signal_ratio": 0.012381596752368065,
      "accuracy": 0.7167794316644114
    },
    {
      "threshold": 0.7,
      "total_signals": 30,
      "long_signals": 27,
      "short_signals": 3,
      "signal_ratio": 0.0020297699594046007,
      "accuracy": 0.7138700947225981
    },
    {
      "threshold": 0.7499999999999999,
      "total_signals": 3,
      "long_signals": 2,
      "short_signals": 1,
      "signal_ratio": 0.00020297699594046007,
      "accuracy": 0.7129905277401895
    },
    {
      "threshold": 0.7999999999999998,
      "total_signals": 0,
      "long_signals": 0,
      "short_signals": 0,
      "signal_ratio": 0.0,
      "accuracy": 0.7127875507442489
    }
  ],
  "best_params": {
    "n_estimators": 134,
    "max_depth": 12,
    "min_samples_split": 15,
    "min_samples_leaf": 15,
    "thr_long": 0.6075645996635203,
    "thr_short": 0.6875509149321999,
    "min_confidence": 0.10522855216243458,
    "stop_mult": 0.9917912441792668,
    "take_mult": 2.0671791601485436,
    "trailing_mult": 0.6143475045973459,
    "breakeven_mult": 0.5174461398854717
  },
  "config": {
    "session_config": {
      "prebuffer_min": 45,
      "session_len_min": 45,
      "volatility_window": 10,
      "zscore_window_days": 3,
      "volatility_threshold": 1.8,
      "cooldown_min": 30
    },
    "sim_config": {
      "commission": 0.001,
      "spread_pct": 0.0002,
      "risk_per_trade": 0.5,
      "max_position_pct": 0.5,
      "default_stop_pct": 0.005,
      "default_take_pct": 0.015,
      "max_hold_minutes": 30,
      "min_hold_bars": 3
    }
  }
}