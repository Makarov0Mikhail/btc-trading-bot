{
  "horizon": 15,
  "timestamp": "20251218_030740",
  "metrics": {
    "long_accuracy": 0.8543301759133964,
    "short_accuracy": 0.8579837618403248,
    "long_precision": 0.1111111111111111,
    "short_precision": 0.0,
    "long_recall": 0.00046598322460391424,
    "short_recall": 0.0,
    "long_f1": 0.0009280742459396752,
    "short_f1": 0.0
  },
  "financial": {
    "pnl": 0.11077231655840514,
    "sharpe": 1.671927295987089,
    "max_drawdown": 50.318639192858164
  },
  "feature_analysis": {
    "long_model": {
      "top_10_features": [
        {
          "feature": "atr_pct",
          "importance": 0.3502588299853133,
          "mutual_info": 0.006824961893128867,
          "abs_correlation": 0.023735262516078187
        },
        {
          "feature": "macd_hist",
          "importance": 0.10614192449715376,
          "mutual_info": 0.005809872938717042,
          "abs_correlation": 0.019551936283263665
        },
        {
          "feature": "log_return",
          "importance": 0.09564509003552076,
          "mutual_info": 0.006845769802448443,
          "abs_correlation": 0.01773014041611684
        },
        {
          "feature": "log_return_lag_1",
          "importance": 0.08157363332364631,
          "mutual_info": 0.0,
          "abs_correlation": 0.016323330226594747
        },
        {
          "feature": "rsi_14",
          "importance": 0.06828123101443982,
          "mutual_info": 0.0024802514413626575,
          "abs_correlation": 0.0023432960029551187
        },
        {
          "feature": "log_return_lag_2",
          "importance": 0.0624848457517977,
          "mutual_info": 0.0008758739135257265,
          "abs_correlation": 0.03685416733842849
        },
        {
          "feature": "prev_candle_body",
          "importance": 0.05356690847453755,
          "mutual_info": 0.0068346841912347855,
          "abs_correlation": 0.0175271903051269
        },
        {
          "feature": "volume_change",
          "importance": 0.04962241247564334,
          "mutual_info": 0.02325431708210668,
          "abs_correlation": 0.18583830594453596
        },
        {
          "feature": "volume_change_lag_1",
          "importance": 0.04537948480663255,
          "mutual_info": 0.0026013087805110136,
          "abs_correlation": 0.03604354412282884
        },
        {
          "feature": "hour_sin",
          "importance": 0.040633093050673176,
          "mutual_info": 0.006036964786291676,
          "abs_correlation": 0.03489500428632694
        }
      ],
      "feature_importance_stats": {
        "max_importance": 0.3502588299853133,
        "min_importance": 0.011062461887017865,
        "mean_importance": 0.08333333333333333
      }
    },
    "short_model": {
      "top_10_features": [
        {
          "feature": "atr_pct",
          "importance": 0.2687022141216049,
          "mutual_info": 0.0027609534119279466,
          "abs_correlation": 0.013825149762860318
        },
        {
          "feature": "macd_hist",
          "importance": 0.109869237025509,
          "mutual_info": 0.0023335160743636063,
          "abs_correlation": 0.014178606720437682
        },
        {
          "feature": "log_return_lag_1",
          "importance": 0.08092175186517983,
          "mutual_info": 0.00013403123826494223,
          "abs_correlation": 0.010709684562613573
        },
        {
          "feature": "hour_sin",
          "importance": 0.0797676388318207,
          "mutual_info": 0.0036462065391058562,
          "abs_correlation": 0.03627178075543437
        },
        {
          "feature": "rsi_14",
          "importance": 0.07787075202544345,
          "mutual_info": 0.002556412340168457,
          "abs_correlation": 0.02512950235997667
        },
        {
          "feature": "log_return",
          "importance": 0.07634542451075442,
          "mutual_info": 0.001649048634015049,
          "abs_correlation": 0.01997639702800051
        },
        {
          "feature": "volume_change_lag_1",
          "importance": 0.0626288382950604,
          "mutual_info": 3.0981797578544246e-06,
          "abs_correlation": 0.010849411935739317
        },
        {
          "feature": "log_return_lag_2",
          "importance": 0.059757047811499264,
          "mutual_info": 0.010893477959826647,
          "abs_correlation": 0.11019698436232978
        },
        {
          "feature": "prev_candle_body",
          "importance": 0.05726585479914446,
          "mutual_info": 0.002611554997362431,
          "abs_correlation": 0.01894983190218393
        },
        {
          "feature": "volume_change",
          "importance": 0.055617854345591404,
          "mutual_info": 0.0022536424421653045,
          "abs_correlation": 0.010958300777439945
        }
      ],
      "feature_importance_stats": {
        "max_importance": 0.2687022141216049,
        "min_importance": 0.01821871589629869,
        "mean_importance": 0.08333333333333333
      }
    }
  },
  "trades_detailed": {
    "summary": {
      "total_trades": 5,
      "winning_trades": 3,
      "losing_trades": 2,
      "win_rate": 0.6,
      "avg_win_pct": 0.004564636504261606,
      "avg_loss_pct": -0.0019752551770791382,
      "profit_factor": 1.317688365280877,
      "largest_win_pct": 0.008885576738610235,
      "largest_loss_pct": -0.0037847958990187003,
      "avg_holding_minutes": 11.4
    },
    "by_direction": {
      "long": {
        "total_trades": 5,
        "winning_trades": 3,
        "losing_trades": 2,
        "win_rate": 0.6,
        "avg_win_pct": 0.004564636504261606,
        "avg_loss_pct": -0.0019752551770791382,
        "profit_factor": 1.317688365280877,
        "largest_win_pct": 0.008885576738610235,
        "largest_loss_pct": -0.0037847958990187003,
        "avg_holding_minutes": 11.4
      },
      "short": {
        "total_trades": 0,
        "winning_trades": 0,
        "losing_trades": 0,
        "win_rate": 0,
        "avg_win_pct": 0,
        "avg_loss_pct": 0,
        "profit_factor": 0,
        "largest_win_pct": 0,
        "largest_loss_pct": 0,
        "avg_holding_minutes": 0
      },
      "total_trades": 5,
      "long_count": 5,
      "short_count": 0
    },
    "holding_time_stats": {
      "mean": 11.4,
      "median": 15.0,
      "min": 2.0,
      "max": 15.0,
      "std": 5.083306010855534
    },
    "exit_reasons": {
      "TAKE_PROFIT": 1,
      "HORIZON_EXIT": 3,
      "STOP_LOSS": 1
    },
    "hourly_performance": {
      "17": {
        "avg_pnl": 36.892694496048534,
        "win_rate": 1.0,
        "total_trades": 1,
        "total_pnl": 36.892694496048534
      },
      "4": {
        "avg_pnl": 2.6443697060563527,
        "win_rate": 1.0,
        "total_trades": 1,
        "total_pnl": 2.6443697060563527
      },
      "7": {
        "avg_pnl": -17.434116049618126,
        "win_rate": 0.0,
        "total_trades": 2,
        "total_pnl": -34.86823209923625
      },
      "2": {
        "avg_pnl": 6.408399552971938,
        "win_rate": 1.0,
        "total_trades": 1,
        "total_pnl": 6.408399552971938
      }
    },
    "confidence_quartiles": {
      "Q1": {
        "avg_pnl": -10.049674172511477,
        "win_rate": 0.5,
        "avg_confidence": 0.22668324732106704,
        "trades": 2
      },
      "Q2": {
        "avg_pnl": 2.6443697060563527,
        "win_rate": 1.0,
        "avg_confidence": 0.2435910603031185,
        "trades": 1
      },
      "Q3": {
        "avg_pnl": 36.892694496048534,
        "win_rate": 1.0,
        "avg_confidence": 0.27738437773797253,
        "trades": 1
      },
      "Q4": {
        "avg_pnl": -8.36048420124136,
        "win_rate": 0.0,
        "avg_confidence": 0.27964110288428723,
        "trades": 1
      }
    }
  },
  "threshold_sensitivity": [
    {
      "threshold": 0.3,
      "total_signals": 2131,
      "long_signals": 774,
      "short_signals": 1357,
      "signal_ratio": 0.14418132611637346,
      "accuracy": 0.606765899864682
    },
    {
      "threshold": 0.35,
      "total_signals": 3247,
      "long_signals": 572,
      "short_signals": 2675,
      "signal_ratio": 0.21968876860622463,
      "accuracy": 0.5728010825439783
    },
    {
      "threshold": 0.39999999999999997,
      "total_signals": 3640,
      "long_signals": 741,
      "short_signals": 2899,
      "signal_ratio": 0.2462787550744249,
      "accuracy": 0.5805818673883627
    },
    {
      "threshold": 0.44999999999999996,
      "total_signals": 2908,
      "long_signals": 981,
      "short_signals": 1927,
      "signal_ratio": 0.19675236806495264,
      "accuracy": 0.6274018944519621
    },
    {
      "threshold": 0.49999999999999994,
      "total_signals": 1955,
      "long_signals": 619,
      "short_signals": 1336,
      "signal_ratio": 0.13227334235453314,
      "accuracy": 0.6784844384303113
    },
    {
      "threshold": 0.5499999999999999,
      "total_signals": 1380,
      "long_signals": 588,
      "short_signals": 792,
      "signal_ratio": 0.09336941813261164,
      "accuracy": 0.6988497970230041
    },
    {
      "threshold": 0.5999999999999999,
      "total_signals": 796,
      "long_signals": 571,
      "short_signals": 225,
      "signal_ratio": 0.05385656292286874,
      "accuracy": 0.7160351826792963
    },
    {
      "threshold": 0.6499999999999999,
      "total_signals": 221,
      "long_signals": 186,
      "short_signals": 35,
      "signal_ratio": 0.014952638700947226,
      "accuracy": 0.716914749661705
    },
    {
      "threshold": 0.7,
      "total_signals": 40,
      "long_signals": 36,
      "short_signals": 4,
      "signal_ratio": 0.0027063599458728013,
      "accuracy": 0.7138700947225981
    },
    {
      "threshold": 0.7499999999999999,
      "total_signals": 3,
      "long_signals": 3,
      "short_signals": 0,
      "signal_ratio": 0.00020297699594046007,
      "accuracy": 0.7129905277401895
    },
    {
      "threshold": 0.7999999999999998,
      "total_signals": 0,
      "long_signals": 0,
      "short_signals": 0,
      "signal_ratio": 0.0,
      "accuracy": 0.7127875507442489
    }
  ],
  "best_params": {
    "n_estimators": 147,
    "max_depth": 9,
    "min_samples_split": 26,
    "min_samples_leaf": 17,
    "thr_long": 0.6774628904260815,
    "thr_short": 0.6609021768129543,
    "min_confidence": 0.2259953250765739,
    "stop_mult": 0.8335860387131963,
    "take_mult": 2.131883893247122,
    "trailing_mult": 0.6603927048014615,
    "breakeven_mult": 0.6314134681245992
  },
  "config": {
    "session_config": {
      "prebuffer_min": 45,
      "session_len_min": 45,
      "volatility_window": 10,
      "zscore_window_days": 3,
      "volatility_threshold": 1.8,
      "cooldown_min": 30
    },
    "sim_config": {
      "commission": 0.001,
      "spread_pct": 0.0002,
      "risk_per_trade": 0.2,
      "max_position_pct": 0.5,
      "default_stop_pct": 0.005,
      "default_take_pct": 0.015,
      "max_hold_minutes": 30,
      "min_hold_bars": 3
    }
  }
}