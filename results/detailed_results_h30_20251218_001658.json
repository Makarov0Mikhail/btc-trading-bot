{
  "horizon": 30,
  "timestamp": "20251218_001658",
  "metrics": {
    "long_accuracy": 0.8273087071240105,
    "short_accuracy": 0.8341688654353562,
    "long_precision": 0.24752475247524752,
    "short_precision": 0.23333333333333334,
    "long_recall": 0.041425020712510356,
    "short_recall": 0.06381039197812215,
    "long_f1": 0.07097232079488999,
    "short_f1": 0.10021474588403723
  },
  "financial": {
    "pnl": -2.8961348223440653,
    "sharpe": 6.65486569691431,
    "max_drawdown": 21.174224162627777
  },
  "feature_analysis": {
    "long_model": {
      "top_10_features": [
        {
          "feature": "atr_pct",
          "importance": 0.20542356258667943,
          "mutual_info": 0.006561771781378178,
          "abs_correlation": 0.02546590289724631
        },
        {
          "feature": "prev_candle_range",
          "importance": 0.1184647473602869,
          "mutual_info": 0.002838909768852149,
          "abs_correlation": 0.016699911903060548
        },
        {
          "feature": "macd_hist",
          "importance": 0.09980410485633055,
          "mutual_info": 0.0032134445195945993,
          "abs_correlation": 0.012052925604562321
        },
        {
          "feature": "log_return",
          "importance": 0.08283187887376299,
          "mutual_info": 0.004172892470616141,
          "abs_correlation": 0.002006678187986608
        },
        {
          "feature": "rsi_14",
          "importance": 0.07590069514049431,
          "mutual_info": 0.0,
          "abs_correlation": 0.00507045467903305
        },
        {
          "feature": "log_return_lag_1",
          "importance": 0.07329475317537233,
          "mutual_info": 0.0,
          "abs_correlation": 0.046166215183072824
        },
        {
          "feature": "volume_change_lag_1",
          "importance": 0.0627384833002044,
          "mutual_info": 0.0030622887825262346,
          "abs_correlation": 0.011876395636251957
        },
        {
          "feature": "volume_change",
          "importance": 0.0543253673718213,
          "mutual_info": 0.009472382780774558,
          "abs_correlation": 0.1157713090994973
        },
        {
          "feature": "log_return_lag_2",
          "importance": 0.05328133220139039,
          "mutual_info": 0.013702423291402033,
          "abs_correlation": 0.15518042521626296
        },
        {
          "feature": "prev_candle_body",
          "importance": 0.052589780058102636,
          "mutual_info": 0.0039061366757076055,
          "abs_correlation": 0.0249868868414742
        }
      ],
      "feature_importance_stats": {
        "max_importance": 0.20542356258667943,
        "min_importance": 0.020656706728995305,
        "mean_importance": 0.07692307692307694
      }
    },
    "short_model": {
      "top_10_features": [
        {
          "feature": "atr_pct",
          "importance": 0.1778840797744775,
          "mutual_info": 0.0,
          "abs_correlation": 0.005826563411245229
        },
        {
          "feature": "macd_hist",
          "importance": 0.10430449961869562,
          "mutual_info": 0.001024295826629107,
          "abs_correlation": 0.000693159807292163
        },
        {
          "feature": "rsi_14",
          "importance": 0.09357559835507788,
          "mutual_info": 0.0,
          "abs_correlation": 0.003011295055499559
        },
        {
          "feature": "prev_candle_range",
          "importance": 0.09089935542103399,
          "mutual_info": 0.0037700860112661605,
          "abs_correlation": 0.01976934797707861
        },
        {
          "feature": "hour_sin",
          "importance": 0.08254673749015462,
          "mutual_info": 0.00481061946911665,
          "abs_correlation": 0.03444874485644929
        },
        {
          "feature": "log_return",
          "importance": 0.06935742196882057,
          "mutual_info": 0.0006576398926820826,
          "abs_correlation": 0.032943861048858145
        },
        {
          "feature": "hour_cos",
          "importance": 0.06565232158438725,
          "mutual_info": 0.0,
          "abs_correlation": 0.0030628095485236836
        },
        {
          "feature": "log_return_lag_1",
          "importance": 0.06311903989560178,
          "mutual_info": 0.00381371187403845,
          "abs_correlation": 0.05942504922604221
        },
        {
          "feature": "volume_change_lag_1",
          "importance": 0.05954812874945332,
          "mutual_info": 0.00990610322593577,
          "abs_correlation": 0.08898147375484829
        },
        {
          "feature": "volume_change",
          "importance": 0.05562095600918532,
          "mutual_info": 0.0,
          "abs_correlation": 0.03615532656253421
        }
      ],
      "feature_importance_stats": {
        "max_importance": 0.1778840797744775,
        "min_importance": 0.02957094408759913,
        "mean_importance": 0.07692307692307691
      }
    }
  },
  "trades_detailed": {
    "summary": {
      "total_trades": 190,
      "winning_trades": 87,
      "losing_trades": 103,
      "win_rate": 0.45789473684210524,
      "avg_win_pct": 0.008530602020539135,
      "avg_loss_pct": -0.007173326343427892,
      "profit_factor": 0.6727855501287592,
      "largest_win_pct": 0.03056747530473114,
      "largest_loss_pct": -0.03928545292142249,
      "avg_holding_minutes": 172.22105263157894
    },
    "by_direction": {
      "long": {
        "total_trades": 95,
        "winning_trades": 39,
        "losing_trades": 56,
        "win_rate": 0.4105263157894737,
        "avg_win_pct": 0.0076810589027081905,
        "avg_loss_pct": -0.0071546511808863915,
        "profit_factor": 0.497199898322318,
        "largest_win_pct": 0.015990567776298814,
        "largest_loss_pct": -0.03773334438330267,
        "avg_holding_minutes": 168.85263157894738
      },
      "short": {
        "total_trades": 95,
        "winning_trades": 48,
        "losing_trades": 47,
        "win_rate": 0.5052631578947369,
        "avg_win_pct": 0.009220855803776776,
        "avg_loss_pct": -0.007195577600924148,
        "profit_factor": 0.8779465401107606,
        "largest_win_pct": 0.03056747530473114,
        "largest_loss_pct": -0.03928545292142249,
        "avg_holding_minutes": 175.58947368421053
      },
      "total_trades": 190,
      "long_count": 95,
      "short_count": 95
    },
    "holding_time_stats": {
      "mean": 172.22105263157894,
      "median": 89.5,
      "min": 1.0,
      "max": 1252.0,
      "std": 230.44982004069067
    },
    "exit_reasons": {
      "STOP_LOSS": 66,
      "MAX_HOLD": 73,
      "TAKE_PROFIT": 51
    },
    "hourly_performance": {
      "6": {
        "avg_pnl": -3.376358800498862,
        "win_rate": 0.5,
        "total_trades": 6,
        "total_pnl": -20.258152802993173
      },
      "14": {
        "avg_pnl": 0.04710559678943412,
        "win_rate": 0.5217391304347826,
        "total_trades": 23,
        "total_pnl": 1.0834287261569848
      },
      "13": {
        "avg_pnl": -2.4130642671938847,
        "win_rate": 0.42857142857142855,
        "total_trades": 21,
        "total_pnl": -50.67434961107158
      },
      "0": {
        "avg_pnl": -4.767870716851599,
        "win_rate": 0.2,
        "total_trades": 15,
        "total_pnl": -71.51806075277398
      },
      "15": {
        "avg_pnl": -7.886586919556482,
        "win_rate": 0.23076923076923078,
        "total_trades": 13,
        "total_pnl": -102.52562995423426
      },
      "16": {
        "avg_pnl": 1.2843103626695962,
        "win_rate": 0.4666666666666667,
        "total_trades": 15,
        "total_pnl": 19.264655440043942
      },
      "2": {
        "avg_pnl": -9.927272037080375,
        "win_rate": 0.0,
        "total_trades": 6,
        "total_pnl": -59.56363222248225
      },
      "4": {
        "avg_pnl": -3.6911996894199426,
        "win_rate": 0.2,
        "total_trades": 5,
        "total_pnl": -18.455998447099713
      },
      "9": {
        "avg_pnl": 1.0322206020576248,
        "win_rate": 0.4,
        "total_trades": 5,
        "total_pnl": 5.161103010288124
      },
      "17": {
        "avg_pnl": -1.9083370451395363,
        "win_rate": 0.2727272727272727,
        "total_trades": 11,
        "total_pnl": -20.9917074965349
      },
      "3": {
        "avg_pnl": -0.8272093660566527,
        "win_rate": 0.42857142857142855,
        "total_trades": 7,
        "total_pnl": -5.7904655623965695
      },
      "19": {
        "avg_pnl": -0.21788601243330225,
        "win_rate": 0.36363636363636365,
        "total_trades": 11,
        "total_pnl": -2.3967461367663248
      },
      "21": {
        "avg_pnl": 0.8237030106748866,
        "win_rate": 0.625,
        "total_trades": 8,
        "total_pnl": 6.589624085399093
      },
      "11": {
        "avg_pnl": -2.412147073436315,
        "win_rate": 0.4,
        "total_trades": 5,
        "total_pnl": -12.060735367181575
      },
      "18": {
        "avg_pnl": 0.4863536468956997,
        "win_rate": 0.45454545454545453,
        "total_trades": 11,
        "total_pnl": 5.349890115852697
      },
      "20": {
        "avg_pnl": 4.431421006641125,
        "win_rate": 0.8,
        "total_trades": 5,
        "total_pnl": 22.157105033205625
      },
      "8": {
        "avg_pnl": -9.223349011967974,
        "win_rate": 0.0,
        "total_trades": 3,
        "total_pnl": -27.67004703590392
      },
      "10": {
        "avg_pnl": 8.024905728928477,
        "win_rate": 1.0,
        "total_trades": 2,
        "total_pnl": 16.049811457856954
      },
      "1": {
        "avg_pnl": -0.18519121584416234,
        "win_rate": 0.5,
        "total_trades": 6,
        "total_pnl": -1.1111472950649741
      },
      "5": {
        "avg_pnl": -1.387189483480177,
        "win_rate": 0.3333333333333333,
        "total_trades": 3,
        "total_pnl": -4.161568450440531
      },
      "22": {
        "avg_pnl": 3.431964770565054,
        "win_rate": 0.8333333333333334,
        "total_trades": 6,
        "total_pnl": 20.591788623390322
      },
      "23": {
        "avg_pnl": -4.191711245705232,
        "win_rate": 0.0,
        "total_trades": 1,
        "total_pnl": -4.191711245705232
      },
      "7": {
        "avg_pnl": 6.425238681541684,
        "win_rate": 1.0,
        "total_trades": 1,
        "total_pnl": 6.425238681541684
      },
      "12": {
        "avg_pnl": 9.083824972498372,
        "win_rate": 1.0,
        "total_trades": 1,
        "total_pnl": 9.083824972498372
      }
    },
    "confidence_quartiles": {
      "Q1": {
        "avg_pnl": -0.029502883746983954,
        "win_rate": 0.4583333333333333,
        "avg_confidence": -0.1479882161384305,
        "trades": 48
      },
      "Q2": {
        "avg_pnl": -1.0298342881447036,
        "win_rate": 0.44680851063829785,
        "avg_confidence": -0.08760228868600492,
        "trades": 47
      },
      "Q3": {
        "avg_pnl": -2.0780588963132396,
        "win_rate": 0.44680851063829785,
        "avg_confidence": 0.08031123356105602,
        "trades": 47
      },
      "Q4": {
        "avg_pnl": -2.9609659196882627,
        "win_rate": 0.3125,
        "avg_confidence": 0.15580043210813246,
        "trades": 48
      }
    }
  },
  "threshold_sensitivity": [
    {
      "threshold": 0.3,
      "total_signals": 1040,
      "long_signals": 772,
      "short_signals": 268,
      "signal_ratio": 0.13720316622691292,
      "accuracy": 0.6063324538258575
    },
    {
      "threshold": 0.35,
      "total_signals": 1690,
      "long_signals": 952,
      "short_signals": 738,
      "signal_ratio": 0.22295514511873352,
      "accuracy": 0.5696569920844328
    },
    {
      "threshold": 0.39999999999999997,
      "total_signals": 1875,
      "long_signals": 655,
      "short_signals": 1220,
      "signal_ratio": 0.24736147757255936,
      "accuracy": 0.5827176781002639
    },
    {
      "threshold": 0.44999999999999996,
      "total_signals": 1626,
      "long_signals": 475,
      "short_signals": 1151,
      "signal_ratio": 0.21451187335092348,
      "accuracy": 0.616622691292876
    },
    {
      "threshold": 0.49999999999999994,
      "total_signals": 943,
      "long_signals": 349,
      "short_signals": 594,
      "signal_ratio": 0.12440633245382586,
      "accuracy": 0.6766490765171504
    },
    {
      "threshold": 0.5499999999999999,
      "total_signals": 512,
      "long_signals": 227,
      "short_signals": 285,
      "signal_ratio": 0.06754617414248021,
      "accuracy": 0.691820580474934
    },
    {
      "threshold": 0.5999999999999999,
      "total_signals": 305,
      "long_signals": 176,
      "short_signals": 129,
      "signal_ratio": 0.040237467018469655,
      "accuracy": 0.7067282321899736
    },
    {
      "threshold": 0.6499999999999999,
      "total_signals": 84,
      "long_signals": 45,
      "short_signals": 39,
      "signal_ratio": 0.01108179419525066,
      "accuracy": 0.6981530343007916
    },
    {
      "threshold": 0.7,
      "total_signals": 4,
      "long_signals": 4,
      "short_signals": 0,
      "signal_ratio": 0.0005277044854881266,
      "accuracy": 0.6963060686015831
    },
    {
      "threshold": 0.7499999999999999,
      "total_signals": 1,
      "long_signals": 1,
      "short_signals": 0,
      "signal_ratio": 0.00013192612137203166,
      "accuracy": 0.696174142480211
    },
    {
      "threshold": 0.7999999999999998,
      "total_signals": 0,
      "long_signals": 0,
      "short_signals": 0,
      "signal_ratio": 0.0,
      "accuracy": 0.696042216358839
    }
  ],
  "best_params": {
    "n_estimators": 166,
    "max_depth": 9,
    "min_samples_split": 22,
    "min_samples_leaf": 19,
    "thr_long": 0.5064785592227095,
    "thr_short": 0.5152587578772367,
    "min_confidence": 0.06323620543435246,
    "stop_mult": 1.185769847392017,
    "take_mult": 1.1756518703204928,
    "trailing_mult": 0.5786967470840023,
    "breakeven_mult": 0.4903736724806317
  },
  "config": {
    "session_config": {
      "prebuffer_min": 45,
      "session_len_min": 45,
      "volatility_window": 10,
      "zscore_window_days": 3,
      "volatility_threshold": 1.8,
      "cooldown_min": 30
    },
    "sim_config": {
      "commission": 0.001,
      "spread_pct": 0.0002,
      "risk_per_trade": 0.01,
      "max_position_pct": 0.1,
      "default_stop_pct": 0.005,
      "default_take_pct": 0.015,
      "max_hold_minutes": 30,
      "min_hold_bars": 3
    }
  }
}