{
  "horizon": 30,
  "timestamp": "20251217_225342",
  "metrics": {
    "long_accuracy": 0.5055408970976253,
    "short_accuracy": 1.0,
    "long_precision": 0.45,
    "short_precision": 0.0,
    "long_recall": 0.002402562733582488,
    "short_recall": 0.0,
    "long_f1": 0.004779607010090282,
    "short_f1": 0.0
  },
  "financial": {
    "pnl": -0.012047727645092543,
    "sharpe": 1.4537962710194177,
    "max_drawdown": 10.13688810550606
  },
  "feature_analysis": {
    "long_model": {
      "top_10_features": [
        {
          "feature": "rsi_14",
          "importance": 0.11650477470715938,
          "mutual_info": 0.0001515157730203054,
          "abs_correlation": 0.003727717700295881
        },
        {
          "feature": "macd_hist",
          "importance": 0.10251596135724939,
          "mutual_info": 0.004481420794427038,
          "abs_correlation": 0.018883413702051696
        },
        {
          "feature": "atr_pct",
          "importance": 0.09417888528557126,
          "mutual_info": 0.0,
          "abs_correlation": 0.02435053816585771
        },
        {
          "feature": "prev_candle_range",
          "importance": 0.09178677985636717,
          "mutual_info": 0.0,
          "abs_correlation": 0.011187709307804945
        },
        {
          "feature": "log_return_lag_1",
          "importance": 0.08855658017568631,
          "mutual_info": 0.0,
          "abs_correlation": 0.01690963665079792
        },
        {
          "feature": "volume_change_lag_1",
          "importance": 0.08825685806825229,
          "mutual_info": 0.00610538337720179,
          "abs_correlation": 0.006516412024432523
        },
        {
          "feature": "log_return",
          "importance": 0.08363437595504389,
          "mutual_info": 0.0,
          "abs_correlation": 0.024326052195144474
        },
        {
          "feature": "volume_change",
          "importance": 0.08094318017114947,
          "mutual_info": 0.0010514913182066987,
          "abs_correlation": 0.03097854320966263
        },
        {
          "feature": "log_return_lag_2",
          "importance": 0.08040941926897538,
          "mutual_info": 0.0028335052969770125,
          "abs_correlation": 0.003082799180090865
        },
        {
          "feature": "prev_candle_body",
          "importance": 0.07500727493187871,
          "mutual_info": 0.0,
          "abs_correlation": 0.03204387683426475
        }
      ],
      "feature_importance_stats": {
        "max_importance": 0.11650477470715938,
        "min_importance": 0.0073947658942869685,
        "mean_importance": 0.07692307692307693
      }
    },
    "short_model": {
      "top_10_features": [
        {
          "feature": "log_return",
          "importance": 0.0,
          "mutual_info": 0.0,
          "abs_correlation": NaN
        },
        {
          "feature": "log_return_lag_1",
          "importance": 0.0,
          "mutual_info": 0.0,
          "abs_correlation": NaN
        },
        {
          "feature": "log_return_lag_2",
          "importance": 0.0,
          "mutual_info": 0.0,
          "abs_correlation": NaN
        },
        {
          "feature": "hour_sin",
          "importance": 0.0,
          "mutual_info": 0.0006687981208399751,
          "abs_correlation": NaN
        },
        {
          "feature": "hour_cos",
          "importance": 0.0,
          "mutual_info": 0.0007992953151503279,
          "abs_correlation": NaN
        },
        {
          "feature": "is_weekend",
          "importance": 0.0,
          "mutual_info": 0.0003751794336417369,
          "abs_correlation": NaN
        },
        {
          "feature": "prev_candle_body",
          "importance": 0.0,
          "mutual_info": 0.0,
          "abs_correlation": NaN
        },
        {
          "feature": "prev_candle_range",
          "importance": 0.0,
          "mutual_info": 0.0,
          "abs_correlation": NaN
        },
        {
          "feature": "atr_pct",
          "importance": 0.0,
          "mutual_info": 0.0,
          "abs_correlation": NaN
        },
        {
          "feature": "rsi_14",
          "importance": 0.0,
          "mutual_info": 0.0,
          "abs_correlation": NaN
        }
      ],
      "feature_importance_stats": {
        "max_importance": 0.0,
        "min_importance": 0.0,
        "mean_importance": 0.0
      }
    }
  },
  "trades_detailed": {
    "summary": {
      "total_trades": 8,
      "winning_trades": 4,
      "losing_trades": 4,
      "win_rate": 0.5,
      "avg_win_pct": 0.008467823323502432,
      "avg_loss_pct": -0.005761648015181919,
      "profit_factor": 0.9585260637141253,
      "largest_win_pct": 0.010856913769625498,
      "largest_loss_pct": -0.00889345753530002,
      "avg_holding_minutes": 235.625
    },
    "by_direction": {
      "long": {
        "total_trades": 8,
        "winning_trades": 4,
        "losing_trades": 4,
        "win_rate": 0.5,
        "avg_win_pct": 0.008467823323502432,
        "avg_loss_pct": -0.005761648015181919,
        "profit_factor": 0.9585260637141253,
        "largest_win_pct": 0.010856913769625498,
        "largest_loss_pct": -0.00889345753530002,
        "avg_holding_minutes": 235.625
      },
      "short": {
        "total_trades": 0,
        "winning_trades": 0,
        "losing_trades": 0,
        "win_rate": 0,
        "avg_win_pct": 0,
        "avg_loss_pct": 0,
        "profit_factor": 0,
        "largest_win_pct": 0,
        "largest_loss_pct": 0,
        "avg_holding_minutes": 0
      },
      "total_trades": 8,
      "long_count": 8,
      "short_count": 0
    },
    "holding_time_stats": {
      "mean": 235.625,
      "median": 102.0,
      "min": 1.0,
      "max": 726.0,
      "std": 268.82379800717047
    },
    "exit_reasons": {
      "TAKE_PROFIT": 3,
      "STOP_LOSS": 4,
      "MAX_HOLD": 1
    },
    "hourly_performance": {
      "2": {
        "avg_pnl": 9.34829899859351,
        "win_rate": 1.0,
        "total_trades": 1,
        "total_pnl": 9.34829899859351
      },
      "0": {
        "avg_pnl": -6.523335063214969,
        "win_rate": 0.0,
        "total_trades": 1,
        "total_pnl": -6.523335063214969
      },
      "3": {
        "avg_pnl": 6.63682332786791,
        "win_rate": 1.0,
        "total_trades": 1,
        "total_pnl": 6.63682332786791
      },
      "6": {
        "avg_pnl": -10.396100662742954,
        "win_rate": 0.0,
        "total_trades": 1,
        "total_pnl": -10.396100662742954
      },
      "9": {
        "avg_pnl": 4.645188837550287,
        "win_rate": 1.0,
        "total_trades": 1,
        "total_pnl": 4.645188837550287
      },
      "1": {
        "avg_pnl": -6.176025686344575,
        "win_rate": 0.0,
        "total_trades": 1,
        "total_pnl": -6.176025686344575
      },
      "17": {
        "avg_pnl": 7.213829013011859,
        "win_rate": 1.0,
        "total_trades": 1,
        "total_pnl": 7.213829013011859
      },
      "20": {
        "avg_pnl": -5.9534515292322,
        "win_rate": 0.0,
        "total_trades": 1,
        "total_pnl": -5.9534515292322
      }
    },
    "confidence_quartiles": {
      "Q1": {
        "avg_pnl": -8.174776095987577,
        "win_rate": 0.0,
        "avg_confidence": 0.5842797010251461,
        "trades": 2
      },
      "Q2": {
        "avg_pnl": 5.641006082709099,
        "win_rate": 1.0,
        "avg_confidence": 0.5915123291830751,
        "trades": 2
      },
      "Q3": {
        "avg_pnl": 1.4124819676892706,
        "win_rate": 0.5,
        "avg_confidence": 0.6060928225847289,
        "trades": 2
      },
      "Q4": {
        "avg_pnl": 0.5189016633336418,
        "win_rate": 0.5,
        "avg_confidence": 0.6152176796888673,
        "trades": 2
      }
    }
  },
  "threshold_sensitivity": [
    {
      "threshold": 0.3,
      "total_signals": 7580,
      "long_signals": 7580,
      "short_signals": 0,
      "signal_ratio": 1.0,
      "accuracy": 0.4941952506596306
    },
    {
      "threshold": 0.35,
      "total_signals": 7580,
      "long_signals": 7580,
      "short_signals": 0,
      "signal_ratio": 1.0,
      "accuracy": 0.4941952506596306
    },
    {
      "threshold": 0.39999999999999997,
      "total_signals": 7567,
      "long_signals": 7567,
      "short_signals": 0,
      "signal_ratio": 0.9982849604221636,
      "accuracy": 0.49432717678100263
    },
    {
      "threshold": 0.44999999999999996,
      "total_signals": 7446,
      "long_signals": 7446,
      "short_signals": 0,
      "signal_ratio": 0.9823218997361478,
      "accuracy": 0.49445910290237466
    },
    {
      "threshold": 0.49999999999999994,
      "total_signals": 5535,
      "long_signals": 5535,
      "short_signals": 0,
      "signal_ratio": 0.7302110817941952,
      "accuracy": 0.4911609498680739
    },
    {
      "threshold": 0.5499999999999999,
      "total_signals": 28,
      "long_signals": 28,
      "short_signals": 0,
      "signal_ratio": 0.0036939313984168864,
      "accuracy": 0.5050131926121372
    },
    {
      "threshold": 0.5999999999999999,
      "total_signals": 9,
      "long_signals": 9,
      "short_signals": 0,
      "signal_ratio": 0.001187335092348285,
      "accuracy": 0.5062005277044855
    },
    {
      "threshold": 0.6499999999999999,
      "total_signals": 0,
      "long_signals": 0,
      "short_signals": 0,
      "signal_ratio": 0.0,
      "accuracy": 0.5058047493403693
    },
    {
      "threshold": 0.7,
      "total_signals": 0,
      "long_signals": 0,
      "short_signals": 0,
      "signal_ratio": 0.0,
      "accuracy": 0.5058047493403693
    },
    {
      "threshold": 0.7499999999999999,
      "total_signals": 0,
      "long_signals": 0,
      "short_signals": 0,
      "signal_ratio": 0.0,
      "accuracy": 0.5058047493403693
    },
    {
      "threshold": 0.7999999999999998,
      "total_signals": 0,
      "long_signals": 0,
      "short_signals": 0,
      "signal_ratio": 0.0,
      "accuracy": 0.5058047493403693
    }
  ],
  "best_params": {
    "n_estimators": 95,
    "max_depth": 4,
    "min_samples_split": 19,
    "min_samples_leaf": 20,
    "thr_long": 0.5783574876791542,
    "thr_short": 0.5695697419817781,
    "min_confidence": 0.19317600151074063,
    "stop_mult": 0.8114619412518421,
    "take_mult": 1.5197340013697307
  },
  "config": {
    "session_config": {
      "prebuffer_min": 45,
      "session_len_min": 45,
      "volatility_window": 10,
      "zscore_window_days": 3,
      "volatility_threshold": 1.8,
      "cooldown_min": 30
    },
    "sim_config": {
      "commission": 0.001,
      "spread_pct": 0.0002,
      "risk_per_trade": 0.01,
      "max_position_pct": 0.1,
      "default_stop_pct": 0.005,
      "default_take_pct": 0.015,
      "max_hold_minutes": 30,
      "min_hold_bars": 3
    }
  }
}